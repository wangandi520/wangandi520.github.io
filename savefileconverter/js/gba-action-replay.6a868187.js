(self["webpackChunksave_file_converter"]=self["webpackChunksave_file_converter"]||[]).push([[401],{5482:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",[e("mq-layout",{attrs:{mq:this.horizontalLayout}},[e("b-form-group",{staticClass:"horizontal-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsHorizontal,"aria-describedby":r,"button-variant":"outline-info",stacked:"",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1),e("mq-layout",{attrs:{mq:this.verticalLayout}},[e("b-form-group",{staticClass:"vertical-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsVertical,"aria-describedby":r,"button-variant":"outline-info",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1)],1)},a=[],o={props:{horizontalLayout:Array,verticalLayout:Array,conversionDirection:String,disableDirection:{type:String,default:null}},data(){return{conversionDirectionInternal:this.conversionDirection,optionsHorizontal:[{html:'<i class="fa fa-arrow-circle-right fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-left fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}],optionsVertical:[{html:'<i class="fa fa-arrow-circle-down fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-up fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}]}},methods:{onChange(t){this.$emit("change",t)}}},i=o,s=r(1001),l=(0,s.Z)(i,n,a,!1,null,"d1ddfc22",null),u=l.exports},2405:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:this.leaveRoomForHelpIcon?11:12,sm:"12"}},[e("div",[e("b-form-input",{attrs:{value:t.value,placeholder:"Output filename",disabled:this.disabled},on:{input:function(e){return t.$emit("input",e)}}}),null!==this.helpText?e("div",[e("help-button",{staticClass:"help-button",attrs:{"popover-text":this.helpText,id:this.id}})],1):t._e()],1)])],1)},a=[],o=r(7900),i={name:"OutputFilename",components:{HelpButton:o.Z},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},id:{type:String,default:null},leaveRoomForHelpIcon:{type:Boolean,default:!1},helpText:{type:String,default:null}},data(){return{}}},s=i,l=r(1001),u=(0,l.Z)(s,n,a,!1,null,"25a53d2c",null),c=u.exports},5151:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:"11",sm:"12"}},[e("div",[e("b-form-select",{attrs:{value:t.value,options:t.options},on:{input:function(e){return t.$emit("input",e)}}}),e("help-button",{staticClass:"help-button",attrs:{"popover-text":null!==this.overrideHelpText?this.overrideHelpText:"Some cartridges, flash carts, or emulators may not accept saves of a particular size for a particular game.           Try creating a test save with your cartridge, flash cart, or emulator to find what size it expects, then adjust the value here if necessary.",id:this.id}})],1)])],1)},a=[],o=r(7900),i=r(2137),s={name:"OutputFilesize",props:{value:{type:Number,default:null},id:{type:String,default:null},platform:{type:String,default:null},valuesToRemove:{type:Array,default:()=>[]},overrideHelpText:{type:String,default:null}},components:{HelpButton:o.Z},methods:{getDropdownText(t){let e=null;switch(t){case 64:e="0.06";break;case 128:e="0.1";break;case 256:e="0.25";break;default:e=(t/1024).toFixed(t<1024?1:0);break}return`${e}kB (${t} bytes)`}},computed:{options(){if(null===this.platform)return[];const t=i.Z[this.platform].filter((t=>this.valuesToRemove.indexOf(t)<0));return[{value:null,text:"Output file size",disabled:!0}].concat(t.map((t=>({value:t,text:this.getDropdownText(t)}))))}}},l=s,u=r(1001),c=(0,u.Z)(l,n,a,!1,null,"266011e0",null),p=c.exports},4617:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return F}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("ConvertGbaActionReplay")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",[e("b-container",[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{sm:"12",md:"5","align-self":"start"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Action Replay")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",[e("input-file",{attrs:{errorMessage:this.errorMessage,placeholderText:"Choose a file to convert (*.xps)",acceptExtension:".xps",leaveRoomForHelpIcon:!1},on:{load:function(e){return t.readActionReplaySaveData(e)}}})],1):e("div",[e("output-filename",{attrs:{leaveRoomForHelpIcon:!1},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}}),e("output-filesize",{attrs:{id:"action-replay-filesize",platform:"gba"},model:{value:t.outputFilesize,callback:function(e){t.outputFilesize=e},expression:"outputFilesize"}})],1)],1),e("b-col",{attrs:{sm:"12",md:"2",lg:"2",xl:"2","align-self":"start"}},[e("conversion-direction",{attrs:{horizontalLayout:["md","lg","xl"],verticalLayout:["xs","sm"],conversionDirection:this.conversionDirection},on:{change:function(e){return t.changeConversionDirection(e)}}})],1),e("b-col",{attrs:{sm:"12",md:"5","align-self":"start"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Emulator/Raw")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",[e("output-filename",{attrs:{leaveRoomForHelpIcon:!1},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}}),e("output-filesize",{attrs:{id:"action-replay-filesize",platform:"gba"},model:{value:t.outputFilesize,callback:function(e){t.outputFilesize=e},expression:"outputFilesize"}})],1):e("div",[e("input-file",{attrs:{errorMessage:this.errorMessage,placeholderText:"Choose a file to convert",leaveRoomForHelpIcon:!1},on:{load:function(e){return t.readEmulatorSaveData(e)}}})],1)],1)],1),e("b-row",{staticClass:"justify-content-md-center",attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"auto",sm:"4",md:"3",lg:"2","align-self":"center"}},[e("b-button",{staticClass:"action-replay-convert-button",attrs:{variant:"success",block:"",disabled:!this.actionReplaySaveData||!t.outputFilename},on:{click:function(e){return t.convertFile()}}},[t._v(" Convert! ")])],1)],1),e("b-row",[e("b-col",[e("div",{staticClass:"help"},[t._v(" Help: how can I "),e("router-link",{attrs:{to:"/original-hardware?sort=gba"}},[t._v("copy save files to and from a GBA cartridge")]),t._v("? ")],1),e("div",{staticClass:"help"},[t._v(" Help: how do I copy files to and from my "),e("b-link",{attrs:{href:"https://www.youtube.com/watch?v=o7WQYnYYT6Y"}},[t._v("Action Replay DSi")]),t._v(" or "),e("b-link",{attrs:{href:"http://uk.codejunkies.com/downloads/manuals/armax_gba_ds_english.pdf"}},[t._v("Action Replay MAX DUO")]),t._v("? ")],1)])],1)],1)],1)},i=[],s=r(3162),l=r(3313),u=r(1044),c=r(2405),p=r(5151),f=r(5482),v=r(7845);class h{static createFromActionReplayData(t){return new h(t)}static createFromEmulatorData(t){return new h(t)}static createWithNewSize(t,e){const r=v.Z.resizeRawSave(t.getRawSaveData(),e);return h.createFromEmulatorData(r)}constructor(t){this.rawSaveData=t}getRawSaveData(){return this.rawSaveData}getArrayBuffer(){return this.rawSaveData}}var d={name:"ConvertGbaActionReplay",data(){return{actionReplaySaveData:null,errorMessage:null,outputFilename:null,outputFilesize:null,conversionDirection:"convertToRaw"}},components:{ConversionDirection:f.Z,InputFile:u.Z,OutputFilename:c.Z,OutputFilesize:p.Z},methods:{changeConversionDirection(t){this.conversionDirection=t,this.actionReplaySaveData=null,this.errorMessage=null,this.outputFilename=null,this.outputFilesize=null},readActionReplaySaveData(t){this.errorMessage=null;try{this.actionReplaySaveData=h.createFromActionReplayData(t.arrayBuffer),this.outputFilename=l.Z.changeFilenameExtension(t.filename,"srm"),this.outputFilesize=this.actionReplaySaveData.getRawSaveData().byteLength}catch(e){this.errorMessage=e.message,this.actionReplaySaveData=null}},readEmulatorSaveData(t){this.errorMessage=null;try{this.actionReplaySaveData=h.createFromEmulatorData(t.arrayBuffer),this.outputFilename=l.Z.changeFilenameExtension(t.filename,"xps"),this.outputFilesize=this.actionReplaySaveData.getRawSaveData().byteLength}catch(e){this.errorMessage=e.message,this.actionReplaySaveData=null}},convertFile(){let t=this.actionReplaySaveData;this.actionReplaySaveData.getRawSaveData().byteLength!==this.outputFilesize&&(t=h.createWithNewSize(this.actionReplaySaveData,this.outputFilesize));const e="convertToRaw"===this.conversionDirection?t.getRawSaveData():t.getArrayBuffer(),r=new Blob([e],{type:"application/octet-stream"});(0,s.saveAs)(r,this.outputFilename)}}},m=d,g=r(1001),y=(0,g.Z)(m,o,i,!1,null,"865eb720",null),b=y.exports,w={name:"GbaActionReplayView",components:{ConvertGbaActionReplay:b}},x=w,D=(0,g.Z)(x,n,a,!1,null,null,null),F=D.exports},1318:function(t,e,r){var n=r(5656),a=r(1400),o=r(6244),i=function(t){return function(e,r,i){var s,l=n(e),u=o(l),c=a(i,u);if(t&&r!=r){while(u>c)if(s=l[c++],s!=s)return!0}else for(;u>c;c++)if((t||c in l)&&l[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:i(!0),indexOf:i(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),a=r(3157),o=TypeError,i=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(a(t)&&!i(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2128:function(t,e,r){var n=r(2597),a=r(3887),o=r(1236),i=r(3070);t.exports=function(t,e,r){for(var s=a(e),l=i.f,u=o.f,c=0;c<s.length;c++){var p=s[c];n(t,p)||r&&n(r,p)||l(t,p,u(e,p))}}},7207:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),a=r(1236).f,o=r(8880),i=r(8052),s=r(3072),l=r(2128),u=r(4705);t.exports=function(t,e){var r,c,p,f,v,h,d=t.target,m=t.global,g=t.stat;if(c=m?n:g?n[d]||s(d,{}):(n[d]||{}).prototype,c)for(p in e){if(v=e[p],t.dontCallGetSet?(h=a(c,p),f=h&&h.value):f=c[p],r=u(m?p:d+(g?".":"#")+p,t.forced),!r&&void 0!==f){if(typeof v==typeof f)continue;l(v,f)}(t.sham||f&&f.sham)&&o(v,"sham",!0),i(c,p,v,t)}}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),a=r(614),o=/#|\.prototype\./,i=function(t,e){var r=l[s(t)];return r==c||r!=u&&(a(e)?n(e):!!e)},s=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},l=i.data={},u=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},1236:function(t,e,r){var n=r(9781),a=r(6916),o=r(5296),i=r(9114),s=r(5656),l=r(4948),u=r(2597),c=r(4664),p=Object.getOwnPropertyDescriptor;e.f=n?p:function(t,e){if(t=s(t),e=l(e),c)try{return p(t,e)}catch(r){}if(u(t,e))return i(!a(o.f,t,e),t[e])}},8006:function(t,e,r){var n=r(6324),a=r(748),o=a.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,r){var n=r(1702),a=r(2597),o=r(5656),i=r(1318).indexOf,s=r(3501),l=n([].push);t.exports=function(t,e){var r,n=o(t),u=0,c=[];for(r in n)!a(s,r)&&a(n,r)&&l(c,r);while(e.length>u)a(n,r=e[u++])&&(~i(c,r)||l(c,r));return c}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);e.f=a?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3887:function(t,e,r){var n=r(5005),a=r(1702),o=r(8006),i=r(5181),s=r(9670),l=a([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(s(t)),r=i.f;return r?l(e,r(t)):e}},1400:function(t,e,r){var n=r(9303),a=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?a(r+e,0):o(r,e)}},5656:function(t,e,r){var n=r(8361),a=r(4488);t.exports=function(t){return n(a(t))}},7658:function(t,e,r){"use strict";var n=r(2109),a=r(7908),o=r(6244),i=r(3658),s=r(7207),l=r(7293),u=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},p=u||!c();n({target:"Array",proto:!0,arity:1,forced:p},{push:function(t){var e=a(this),r=o(e),n=arguments.length;s(r+n);for(var l=0;l<n;l++)e[r]=arguments[l],r++;return i(e,r),r}})},2137:function(t,e,r){"use strict";r(7658);const n={nes:[512,1024,2048,4096,8192,16384,32768,65536,131072],snes:[512,1024,2048,4096,8192,16384,32768,65536,131072],n64:[512,2048,32768,131072,786432],gb:[512,1024,2048,4096,8192,16384,32768,65536],gba:[512,8192,32768,65536,131072],gamegear:[512,1024,2048,4096,8192,16384,32768,65536],sms:[512,1024,2048,4096,8192,16384,32768,65536],genesis:[64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072],segacd:[8192,16384,32768,65536,131072,262144,524288]},a=Object.keys(n).reduce(((t,e)=>(t.push(...n[e]),t)),[]),o=[...new Set(a)].sort(((t,e)=>t-e));n.all=o,e["Z"]=n},7845:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});r(3408),r(4590),r(3462),r(3767),r(8585),r(8696);class n{static resizeRawSave(t,e,r=0){let n=t;if(e<t.byteLength)n=t.slice(0,e);else if(e>t.byteLength){n=new ArrayBuffer(e);const a=new Uint8Array(n),o=new Uint8Array(t);a.fill(r),a.set(o,0)}return n}static getEraseCartridgeSave(t){const e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e);return r.fill(0),e}}}}]);