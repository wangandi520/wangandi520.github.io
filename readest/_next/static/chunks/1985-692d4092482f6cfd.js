(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1985],{1714:()=>{},2675:(e,n,t)=>{"use strict";t.d(n,{ND:()=>s});var a=t(21029),o=t(79336);let i=o.env.NEXT_PUBLIC_SUPABASE_URL||"https://gxkhxxxeapexynpouyjz.supabase.co",r=o.env.NEXT_PUBLIC_SUPABASE_ANON_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd4a2h4eHhlYXBleHlucG91eWp6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0MzAwNTksImV4cCI6MjA1MDAwNjA1OX0.jhinkQsimQoidsg_U59YD5ROw4PmMJQNKuyXbr4TiQA",s=(0,a.UU)(i,r)},40965:(e,n,t)=>{"use strict";t.d(n,{B5:()=>v,EZ:()=>W,Ff:()=>k,G1:()=>c,GM:()=>_,GT:()=>j,H0:()=>M,Hj:()=>eo,Hw:()=>Y,Jy:()=>s,L7:()=>V,Lq:()=>el,NR:()=>u,O9:()=>z,Ow:()=>f,Pf:()=>S,TJ:()=>B,Uy:()=>R,V6:()=>O,Vz:()=>ee,W_:()=>x,Y$:()=>g,Y6:()=>h,Yk:()=>N,Z$:()=>L,Z4:()=>I,ZH:()=>P,ZK:()=>y,Zk:()=>J,_1:()=>K,_C:()=>ei,_u:()=>E,az:()=>T,bF:()=>et,bL:()=>Q,cA:()=>$,cP:()=>D,dU:()=>ea,dp:()=>l,e3:()=>C,e5:()=>w,ec:()=>Z,g9:()=>G,hQ:()=>es,hU:()=>p,lt:()=>b,nh:()=>H,o6:()=>A,pP:()=>F,pU:()=>r,tr:()=>er,u$:()=>m,u1:()=>X,u7:()=>d,wI:()=>en,zW:()=>q,zg:()=>i});var a=t(64067),o=t(50981);let i="Readest/Books",r="Readest/Books",s=["epub","mobi","azw","azw3","fb2","zip","cbz","pdf","txt"],l=s.map(e=>".".concat(e)).join(", "),c="",g="",d={keepLogin:!1,autoUpload:!0,alwaysOnTop:!1,autoCheckUpdates:!0,screenWakeLock:!1,openLastBooks:!1,lastOpenBooks:[],autoImportBooksOnOpen:!1,telemetryEnabled:!0,libraryViewMode:"grid",librarySortBy:"updated",librarySortAscending:!1,lastSyncedAtBooks:0,lastSyncedAtConfigs:0,lastSyncedAtNotes:0},m={sideBarWidth:"15%",isSideBarPinned:!0,notebookWidth:"25%",isNotebookPinned:!1,autohideCursor:!0,translationProvider:"deepl",translateTargetLang:"EN",customThemes:[],highlightStyle:"highlight",highlightStyles:{highlight:"yellow",underline:"green",squiggly:"blue"}},u={sideBarWidth:"25%",isSideBarPinned:!1},h={serifFont:"Bitter",sansSerifFont:"Roboto",monospaceFont:"Consolas",defaultFont:"Serif",defaultCJKFont:"LXGW WenKai GB Screen",defaultFontSize:16,minimumFontSize:8,fontWeight:400},p={marginPx:44,gapPercent:5,compactMarginPx:0,compactGapPercent:5,scrolled:!1,disableClick:!1,swapClickArea:!1,volumeKeysToFlip:!1,continuousScroll:!1,maxColumnCount:2,maxInlineSize:(0,a.aL)(),maxBlockSize:(0,a.ij)(),animated:!1,writingMode:"auto",vertical:!1,rtl:!1,scrollingOverlap:0,allowScript:!1},f={zoomLevel:100,paragraphMargin:1,lineHeight:1.6,wordSpacing:0,letterSpacing:0,textIndent:0,fullJustification:!0,hyphenation:!0,invertImgColorInDark:!1,theme:"light",overrideFont:!1,overrideLayout:!1,overrideColor:!1,userStylesheet:""},S={fullJustification:!1,animated:!0,defaultFont:"Sans-serif"},b={fullJustification:!0,textIndent:2},y={sideBarTab:"toc",uiLanguage:"",sortedTOC:!1,doubleBorder:!1,borderColor:"red",showHeader:!0,showFooter:!0,showBarsOnScroll:!1,showRemainingTime:!1,showPageNumber:!0},k={ttsRate:1.3,ttsVoice:"",ttsLocation:""},x={translationEnabled:!1,translationProvider:"deepl",translateTargetLang:""},w={screenOrientation:"auto"},C={scope:"book",matchCase:!1,matchWholeWords:!1,matchDiacritics:!1},v=1,M=["Bitter","Literata","Merriweather","Vollkorn","Georgia","Times New Roman"],z=["Georgia","Times New Roman"],T=[(0,o.Gg)("LXGW WenKai GB Screen"),(0,o.Gg)("LXGW WenKai TC"),(0,o.Gg)("GuanKiapTsingKhai-T")],N=["Noto Sans SC","Noto Sans TC"],I=["Roboto","Noto Sans","Open Sans","Helvetica"],H=["Fira Code","Lucida Console","Consolas","Courier New"],A=["MiSans L3"],L=["Arial","Arial Black","Bahnschrift","Calibri","Cambria","Cambria Math","Candara","Comic Sans MS","Consolas","Constantia","Corbel","Courier New","Ebrima","FangSong","Franklin Gothic Medium","Gabriola","Gadugi","Georgia","Heiti","HoloLens MDL2 Assets","Impact","Ink Free","Javanese Text","KaiTi","Leelawadee UI","Lucida Console","Lucida Sans Unicode","LXGW WenKai GB Screen","LXGW WenKai TC","Malgun Gothic","Marlett","Microsoft Himalaya","Microsoft JhengHei","Microsoft New Tai Lue","Microsoft PhagsPa","Microsoft Sans Serif","Microsoft Tai Le","Microsoft YaHei","Microsoft Yi Baiti","MingLiU","MingLiU-ExtB","Mongolian Baiti","MS Gothic","MS Mincho","MV Boli","Myanmar Text","Nirmala UI","Noto Serif JP","NSimSun","Palatino Linotype","PMingLiU","Segoe MDL2 Assets","Segoe Print","Segoe Script","Segoe UI","Segoe UI Historic","Segoe UI Emoji","Segoe UI Symbol","SimHei","SimSun","SimSun-ExtB","Sitka","Sylfaen","Tahoma","Times New Roman","Trebuchet MS","Verdana","XiHeiti","Yu Gothic","Yu Mincho"],F=["American Typewriter","Andale Mono","Arial","Arial Black","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Avenir","Avenir Next","Avenir Next Condensed","Baskerville","BiauKai","Big Caslon","Bodoni 72","Bodoni 72 Oldstyle","Bodoni 72 Smallcaps","Bradley Hand","Brush Script MT","Chalkboard","Chalkboard SE","Chalkduster","Charter","Cochin","Comic Sans MS","Copperplate","Courier","Courier New","Didot","DIN Alternate","DIN Condensed","FangSong","Futura","Geneva","Georgia","Gill Sans","Heiti SC","Heiti TC","Helvetica","Helvetica Neue","Herculanum","Hiragino Sans","Hiragino Mincho","Hoefler Text","Impact","Kaiti SC","Kaiti TC","Kozuka Gothic Pro","Kozuka Mincho Pro","Lucida Grande","Luminari","LXGW WenKai GB Screen","LXGW WenKai TC","Marker Felt","Menlo","Microsoft Sans Serif","Monaco","Noteworthy","Noto Serif JP","Optima","Palatino","Papyrus","PingFang HK","PingFang SC","PingFang TC","Phosphate","Rockwell","Savoye LET","SignPainter","Skia","Snell Roundhand","Songti SC","Songti TC","STFangsong","STKaiti","STSong","STXihei","Tahoma","Times","Times New Roman","Trattatello","Trebuchet MS","Verdana","XiHeiti","Yu Mincho","Zapfino"],G=["Arial","Cantarell","Comic Sans MS","Courier New","DejaVu Sans","DejaVu Sans Mono","DejaVu Serif","Droid Sans","Droid Sans Mono","FangSong","FreeMono","FreeSans","FreeSerif","Georgia","Heiti","Impact","Kaiti","Liberation Mono","Liberation Sans","Liberation Serif","LXGW WenKai GB Screen","LXGW WenKai TC","Noto Mono","Noto Sans","Noto Sans JP","Noto Sans CJK SC","Noto Sans CJK TC","Noto Serif","Noto Serif JP","Noto Serif CJK SC","Noto Serif CJK TC","Open Sans","Poppins","Sazanami Gothic","Sazanami Mincho","Source Han Sans","Source Han Serif","Times New Roman","Ubuntu","Ubuntu Mono","WenQuanYi Micro Hei","WenQuanYi Zen Hei","XiHeiti"],P=["Avenir","Avenir Next","Courier","Courier New","FangSong","Georgia","Heiti","Helvetica","Helvetica Neue","Hiragino Mincho","Hiragino Sans","Kaiti","LXGW WenKai GB Screen","LXGW WenKai TC","Palatino","PingFang SC","PingFang TC","San Francisco","SF Pro Display","SF Pro Rounded","SF Pro Text","Songti","Times New Roman","Verdana","XiHeiti"],B=["Arial","Droid Sans","Droid Serif","FangSong","FZLanTingHei","Georgia","Heiti","Kaiti","LXGW WenKai GB Screen","LXGW WenKai TC","Noto Sans","Noto Sans CJK","Noto Sans JP","Noto Serif","Noto Serif CJK","Noto Serif JP","PingFang SC","Roboto","Source Han Sans","Source Han Serif","STHeiti","STSong","Tahoma","Verdana","XiHeiti"],W=/[\u3040-\u30FF\u4E00-\u9FFF\uAC00-\uD7AF]/,j=RegExp("AlBayan|STIX|Kailasa|ITCTT|Luminari|Myanmar","i"),K=RegExp("CJK|TC$|SC$|HK|JP|TW|Sim|Kai|Hei|Yan|Min|Khai|Yuan|Song|Ming|FZ|FangZheng|WenQuanYi|PingFang|Hiragino|Meiryo|Source\\s?Han|Yu\\s?Gothic|Yu\\s?Mincho|Mincho|Nanum|Malgun|Gulim|Dotum|Batang|Gungsuh|OPPO sans|MiSans|Fallback","i"),J="+",D="https://readest.com?utm_source=readest_web",E="https://web.readest.com",U="https://github.com/readest/readest/releases/latest/download",_="".concat(U,"/latest.json"),O="".concat(U,"/release-notes.json"),R=3,X=5,Y=5,V=86400,Z=500,$=50,Q=10,q={free:524288e3,plus:0x80000000,pro:0x280000000},ee={free:51200,plus:512e3,pro:1048576},en=250,et=!0,ea=500,eo={red:"#f87171",yellow:"#facc15",green:"#4ade80",blue:"#60a5fa",violet:"#a78bfa"},ei=[{light:{fg:"#2b2b2b",bg:"#f3f3f3",primary:"#3c5a72"},dark:{fg:"#d0d0d0",bg:"#1a1c1f",primary:"#486e8a"}},{light:{fg:"#3f2f3c",bg:"#f5ecf8",primary:"#7b5291"},dark:{fg:"#d6cadd",bg:"#3a2c3d",primary:"#bda0cc"}},{light:{fg:"#2b2b2b",bg:"#defcd9",primary:"#00796b"},dark:{fg:"#c8e6c9",bg:"#273c33",primary:"#26a69a"}}],er=["zh","ja","ko","ar","he","fa","ur","dv","ps","sd","yi",""],es={en:"English",fr:"Fran\xe7ais",de:"Deutsch",nl:"Nederlands",it:"Italiano",ja:"日本語",ko:"한국어",es:"Espa\xf1ol",pt:"Portugu\xeas",ru:"Русский",ar:"العربية",el:"Ελληνικά",uk:"Українська",pl:"Polski",tr:"T\xfcrk\xe7e",hi:"हिन्दी",id:"Indonesia",vi:"Tiếng Việt","zh-CN":"简体中文","zh-TW":"正體中文"},el={...es,zh:"中文"}},46450:(e,n,t)=>{"use strict";t.d(n,{A:()=>c,O:()=>l});var a=t(62574),o=t(84574),i=t(2675),r=t(28091);let s=(0,o.createContext)(void 0),l=e=>{let{children:n}=e,[t,l]=(0,o.useState)(()=>localStorage.getItem("token")),[c,g]=(0,o.useState)(()=>{{let e=localStorage.getItem("user");return e?JSON.parse(e):null}});(0,o.useEffect)(()=>{let e=e=>{if(e){console.log("Syncing session");let{access_token:n,refresh_token:t,user:a}=e;localStorage.setItem("token",n),localStorage.setItem("refresh_token",t),localStorage.setItem("user",JSON.stringify(a)),r.Ay.identify(a.id),l(n),g(a)}else console.log("Clearing session"),localStorage.removeItem("token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("user"),l(null),g(null)},n=async()=>{try{await i.ND.auth.refreshSession()}catch(n){e(null)}},{data:t}=i.ND.auth.onAuthStateChange((n,t)=>{e(t)});return n(),()=>{null==t||t.subscription.unsubscribe()}},[]);let d=async()=>{console.log("Logging out");try{await i.ND.auth.refreshSession()}catch(e){}finally{await i.ND.auth.signOut(),localStorage.removeItem("token"),localStorage.removeItem("user"),l(null),g(null)}};return(0,a.jsx)(s.Provider,{value:{token:t,user:c,login:(e,n)=>{console.log("Logging in"),l(e),g(n),localStorage.setItem("token",e),localStorage.setItem("user",JSON.stringify(n))},logout:d},children:n})},c=()=>{let e=(0,o.useContext)(s);if(!e)throw Error("useAuth must be used within AuthProvider");return e}},50981:(e,n,t)=>{"use strict";t.d(n,{Gg:()=>f,Gz:()=>p,JK:()=>l,NF:()=>o,Ox:()=>u,Xw:()=>s,YK:()=>m,aY:()=>r,em:()=>h,gl:()=>c,ii:()=>d,mj:()=>g,oq:()=>i});var a=t(36261);let o=()=>Math.random().toString(36).substring(2,9),i=()=>(0,a.md5)(Math.random().toString()),r=e=>(0,a.md5)(JSON.stringify(e)),s=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_",t=e.replace(/[<>:"\/\\|?*\x00-\x1F]/g,n);/^(con|prn|aux|nul|com[1-9]|lpt[1-9])$/i.test(t)&&(t="".concat(t).concat(n));let a=new TextEncoder,o=a.encode(t);for(;o.length>250;)t=t.slice(0,-1),o=a.encode(t);return t.trim()},l=()=>{var e,n;return(null==(e=localStorage)?void 0:e.getItem("i18nextLng"))||(null==(n=navigator)?void 0:n.language)||""},c=()=>l().split("-")[0]||"en",g=()=>{let e=l();return e.startsWith("zh")?"zh-Hant"===e||"zh-HK"===e||"zh-TW"===e?"zh-Hant":"zh-Hans":e.split("-")[0]||"en"},d=()=>{var e;let n=navigator.language||"",t=(null==(e=localStorage)?void 0:e.getItem("i18nextLng"))||"",a=["zh","ja","ko"].some(e=>t.startsWith(e));return["zh","ja","ko"].some(e=>n.startsWith(e))||a},m=e=>{let n=(navigator.languages&&navigator.languages.length>0?navigator.languages:[navigator.language]).filter(n=>n.startsWith(e));return n.length>0?n[0]:void 0},u=()=>{let e=navigator.userAgent.toLowerCase();return/iphone|ipad|ipod/.test(e)?"ios":e.includes("android")?"android":e.includes("macintosh")||e.includes("mac os x")?"macos":e.includes("windows nt")?"windows":e.includes("linux")?"linux":"unknown"},h=e=>e.startsWith("content://"),p=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["http","https"];try{let{protocol:t}=new URL(e);return n.some(e=>"".concat(e,":")===t)}catch(e){return!1}},f=e=>e},56674:e=>{"use strict";e.exports={input:["src/**/*.{js,jsx,ts,tsx}","!src/**/*.test.{js,jsx,ts,tsx}"],output:".",options:{debug:!1,sort:!1,func:{list:["_"],extensions:[".js",".jsx",".ts",".tsx"]},lngs:["de","ja","es","fr","it","el","ko","uk","nl","pl","pt","ru","tr","hi","id","vi","ar","zh-CN","zh-TW"],ns:["translation"],defaultNs:"translation",defaultValue:"__STRING_NOT_TRANSLATED__",resource:{loadPath:"./public/locales/{{lng}}/{{ns}}.json",savePath:"./public/locales/{{lng}}/{{ns}}.json",jsonIndent:2,lineEnding:"\n"},keySeparator:!1,nsSeparator:!1,interpolation:{prefix:"{{",suffix:"}}"},metadata:{},allowDynamicKeys:!0,removeUnusedKeys:!0}}},64067:(e,n,t)=>{"use strict";t.d(n,{Jt:()=>a,aL:()=>o,ij:()=>i});let a=e=>{let n=e.scrolled,t=e.vertical,a=e.maxColumnCount,o=window.innerWidth,i=window.innerHeight;return 1===a||n||t?Math.max(o,i,720):e.maxInlineSize},o=()=>{let e=window.innerWidth;return e<window.innerHeight?Math.max(e,720):720},i=()=>Math.max(window.innerWidth,window.innerHeight,1440)},69921:(e,n,t)=>{"use strict";t.d(n,{Ay:()=>h,Jd:()=>s,L1:()=>c,hx:()=>r,uO:()=>i,xx:()=>l});var a=t(40965),o=t(79336);let i=()=>!1,r=()=>!1,s=()=>!0===window.__READEST_CLI_ACCESS,l=()=>window.matchMedia("(display-mode: standalone)").matches,c=()=>{var e;return"".concat(null!=(e=o.env.NEXT_PUBLIC_API_BASE_URL)?e:a._u,"/api")},g=null,d=async()=>{if(!g){let{NativeAppService:e}=await Promise.all([t.e(1868),t.e(1029),t.e(935),t.e(512),t.e(9743),t.e(2438),t.e(7069)]).then(t.bind(t,67069));g=new e,await g.loadSettings()}return g},m=null,u=async()=>{if(!m){let{WebAppService:e}=await Promise.all([t.e(1868),t.e(1029),t.e(935),t.e(512),t.e(9743),t.e(2438),t.e(292)]).then(t.bind(t,90292));m=new e,await m.loadSettings()}return m},h={getAppService:async()=>i()?d():u()}},71997:(e,n,t)=>{"use strict";t.d(n,{PL:()=>m,n1:()=>c,PF:()=>l,Zj:()=>g});var a=t(68727),o=t(50981);function i(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function r(e){let{r:n,g:t,b:o}=(0,a.A)(e).toRgb(),r=i(n/255),s=i(t/255),l=i(o/255),c=Math.cbrt(.4122214708*r+.5363325363*s+.0514459929*l),g=Math.cbrt(.2119034982*r+.6806995451*s+.1073969566*l),d=Math.cbrt(.0883024619*r+.2817188376*s+.6299787005*l),m=1.9779984951*c-2.428592205*g+.4505937099*d,u=.0259040371*c+.7827717662*g-.808675766*d,h=Math.sqrt(m*m+u*u),p=180/Math.PI*Math.atan2(u,m);p<0&&(p+=360);let f=(100*(.2104542553*c+.793617785*g-.0040720468*d)).toFixed(4),S=h.toFixed(6),b=p.toFixed(6);return"".concat(f,"% ").concat(S," ").concat(b)}let s=e=>(0,a.A)(e).isDark()?"100% 0 0":"0% 0 0",l=e=>{let{bg:n,fg:t,primary:o}=e;return{"base-100":n,"base-200":(0,a.A)(n).darken(5).toHexString(),"base-300":(0,a.A)(n).darken(12).toHexString(),"base-content":t,neutral:(0,a.A)(n).darken(15).desaturate(20).toHexString(),"neutral-content":(0,a.A)(t).lighten(20).desaturate(20).toHexString(),primary:o,secondary:(0,a.A)(o).lighten(20).toHexString(),accent:(0,a.A)(o).analogous()[1].toHexString()}},c=e=>{let{bg:n,fg:t,primary:o}=e;return{"base-100":n,"base-200":(0,a.A)(n).lighten(5).toHexString(),"base-300":(0,a.A)(n).lighten(12).toHexString(),"base-content":t,neutral:(0,a.A)(n).lighten(15).desaturate(20).toHexString(),"neutral-content":(0,a.A)(t).darken(20).desaturate(20).toHexString(),primary:o,secondary:(0,a.A)(o).darken(20).toHexString(),accent:(0,a.A)(o).triad()[1].toHexString()}},g=[{name:"default",label:(0,o.Gg)("Default"),colors:{light:l({fg:"#171717",bg:"#ffffff",primary:"#0066cc"}),dark:c({fg:"#e0e0e0",bg:"#222222",primary:"#77bbee"})}},{name:"gray",label:(0,o.Gg)("Gray"),colors:{light:l({fg:"#222222",bg:"#e0e0e0",primary:"#4488cc"}),dark:c({fg:"#c6c6c6",bg:"#444444",primary:"#88ccee"})}},{name:"sepia",label:(0,o.Gg)("Sepia"),colors:{light:l({fg:"#5b4636",bg:"#f1e8d0",primary:"#008b8b"}),dark:c({fg:"#ffd595",bg:"#342e25",primary:"#48d1cc"})}},{name:"grass",label:(0,o.Gg)("Grass"),colors:{light:l({fg:"#232c16",bg:"#d7dbbd",primary:"#177b4d"}),dark:c({fg:"#d8deba",bg:"#333627",primary:"#a6d608"})}},{name:"cherry",label:(0,o.Gg)("Cherry"),colors:{light:l({fg:"#4e1609",bg:"#f0d1d5",primary:"#de3838"}),dark:c({fg:"#e5c4c8",bg:"#462f32",primary:"#ff646e"})}},{name:"sky",label:(0,o.Gg)("Sky"),colors:{light:l({fg:"#262d48",bg:"#cedef5",primary:"#2d53e5"}),dark:c({fg:"#babee1",bg:"#282e47",primary:"#ff646e"})}},{name:"solarized",label:(0,o.Gg)("Solarized"),colors:{light:l({fg:"#586e75",bg:"#fdf6e3",primary:"#268bd2"}),dark:c({fg:"#93a1a1",bg:"#002b36",primary:"#268bd2"})}},{name:"gruvbox",label:(0,o.Gg)("Gruvbox"),colors:{light:l({fg:"#3c3836",bg:"#fbf1c7",primary:"#076678"}),dark:c({fg:"#ebdbb2",bg:"#282828",primary:"#83a598"})}},{name:"nord",label:(0,o.Gg)("Nord"),colors:{light:l({fg:"#2e3440",bg:"#eceff4",primary:"#5e81ac"}),dark:c({fg:"#d8dee9",bg:"#2e3440",primary:"#88c0d0"})}},{name:"contrast",label:(0,o.Gg)("Contrast"),colors:{light:l({fg:"#000000",bg:"#ffffff",primary:"#4488cc"}),dark:c({fg:"#ffffff",bg:"#000000",primary:"#88ccee"})}},{name:"sunset",label:(0,o.Gg)("Sunset"),colors:{light:l({fg:"#423126",bg:"#fff7f0",primary:"#fe6b64"}),dark:c({fg:"#f6e1d7",bg:"#3c2b25",primary:"#ff9c94"})}}],d=e=>"\n    --b1: ".concat(r(e["base-100"]),";\n    --b2: ").concat(r(e["base-200"]),";\n    --b3: ").concat(r(e["base-300"]),";\n    --bc: ").concat(r(e["base-content"]),";\n    \n    --p: ").concat(r(e.primary),";\n    --pc: ").concat(s(e.primary),";\n    \n    --s: ").concat(r(e.secondary),";\n    --sc: ").concat(s(e.secondary),";\n    \n    --a: ").concat(r(e.accent),";\n    --ac: ").concat(s(e.accent),";\n    \n    --n: ").concat(r(e.neutral),";\n    --nc: ").concat(r(e["neutral-content"]),";\n    \n    --in: 69.37% 0.047 231;\n    --inc: 100% 0 0;\n    --su: 78.15% 0.12 160;\n    --suc: 100% 0 0;\n    --wa: 90.69% 0.123 84;\n    --wac: 0% 0 0;\n    --er: 70.9% 0.184 22;\n    --erc: 100% 0 0;\n  "),m=e=>{let n=l(e.colors.light),t=c(e.colors.dark),a="".concat(e.name,"-light"),o="".concat(e.name,"-dark"),i='\n    [data-theme="'.concat(a,'"] {\n      ').concat(d(n),'\n    }\n    \n    [data-theme="').concat(o,'"] {\n      ').concat(d(t),"\n    }\n    \n    :root {\n      --").concat(a,": 1;\n      --").concat(o,": 1;\n    }\n  "),r=document.createElement("style");r.id="theme-".concat(a,"-styles"),r.textContent=i;let s=document.getElementById(r.id);return s&&s.remove(),document.head.appendChild(r),{light:a,dark:o}}},73799:()=>{},78549:(e,n,t)=>{"use strict";t.d(n,{B:()=>l});var a=t(63529),o=t(38259),i=t(88107),r=t(8441),s=t(56674);a.Ay.use(i.A).use(r.A).use(o.r9).init({supportedLngs:["en",...s.options.lngs],fallbackLng:{"zh-HK":["zh-TW","en"],kk:["ru","en"],ky:["ru","en"],tk:["ru","en"],uz:["ru","en"],ug:["ru","en"],tt:["ru","en"],default:["en"]},ns:s.options.ns,defaultNS:s.options.defaultNs,backend:{loadPath:"/locales/{{lng}}/{{ns}}.json"},detection:{order:["querystring","localStorage","navigator"],caches:["localStorage"]},keySeparator:!1,nsSeparator:!1,interpolation:{escapeValue:!1},react:{useSuspense:!1}}),a.Ay.on("languageChanged",e=>{console.log("Language changed to",e)});let l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"translation",{t:n}=(0,o.Bd)(e);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n(e,{defaultValue:e,...t})}}},80258:(e,n,t)=>{"use strict";t.d(n,{$f:()=>m,D1:()=>c,Jp:()=>u,rj:()=>d});var a=t(40965),o=t(71997),i=t(50981);let r=(e,n,t,o,i,r,s,l,c)=>{let g=["Georgia","Times New Roman"],d=[e,...a.H0.filter(n=>n!==e&&n!==i&&!g.includes(n)),...i!==e?[i]:[],...a.az.filter(n=>n!==e&&n!==i),...g.filter(e=>a.H0.includes(e)&&!g.includes(i)),...a.o6],m=[n,...a.Z4.filter(e=>e!==n&&e!==i),...i!==n?[i]:[],...a.Yk.filter(e=>e!==n&&e!==i),...a.o6],u=[t,...a.nh.filter(e=>e!==t)];return"\n    html {\n      --serif: ".concat(d.map(e=>'"'.concat(e,'"')).join(", "),", serif;\n      --sans-serif: ").concat(m.map(e=>'"'.concat(e,'"')).join(", "),", sans-serif;\n      --monospace: ").concat(u.map(e=>'"'.concat(e,'"')).join(", "),", monospace;\n    }\n    html, body {\n      font-family: var(").concat("serif"===o.toLowerCase()?"--serif":"--sans-serif",") ").concat(c?"!important":"",";\n      font-size: ").concat(r,"px !important;\n      font-weight: ").concat(l,';\n    }\n    font[size="1"] {\n      font-size: ').concat(s,'px;\n    }\n    font[size="2"] {\n      font-size: ').concat(1.5*s,'px;\n    }\n    font[size="3"] {\n      font-size: ').concat(r,'px;\n    }\n    font[size="4"] {\n      font-size: ').concat(1.2*r,'px;\n    }\n    font[size="5"] {\n      font-size: ').concat(1.5*r,'px;\n    }\n    font[size="6"] {\n      font-size: ').concat(2*r,'px;\n    }\n    font[size="7"] {\n      font-size: ').concat(3*r,'px;\n    }\n    /* hardcoded inline font size */\n    [style*="font-size: 16px"], [style*="font-size:16px"] {\n      font-size: 1rem !important;\n    }\n    body * {\n      ').concat(c?"font-family: revert !important;":"","\n    }\n    \n  ")},s=(e,n,t)=>{let{bg:a,fg:o,primary:i,isDarkMode:r}=t;return"\n    html {\n      --theme-bg-color: ".concat(a,";\n      --theme-fg-color: ").concat(o,";\n      --theme-primary-color: ").concat(i,";\n      color-scheme: ").concat(r?"dark":"light",";\n    }\n    html, body {\n      color: ").concat(o,";\n    }\n    div, p, span, pre {\n      ").concat(e?"background-color: ".concat(a," !important;"):"","\n    }\n    a:any-link {\n      ").concat(e?"color: ".concat(i,";"):r?"color: lightblue;":"","\n      text-decoration: none;\n    }\n    p:has(img), span:has(img) {\n      background-color: ").concat(a,";\n    }\n    body.pbg {\n      ").concat(r?"background-color: ".concat(a," !important;"):"","\n    }\n    img {\n      ").concat(r&&n?"filter: invert(100%);":"","\n    }\n    /* inline images */\n    p img, span img, sup img {\n      mix-blend-mode: ").concat(r?"screen":"multiply",';\n    }\n    /* override inline hardcoded text color */\n    *[style*="color: rgb(0,0,0)"], *[style*="color: rgb(0, 0, 0)"],\n    *[style*="color: #000"], *[style*="color: #000000"], *[style*="color: black"],\n    *[style*="color:rgb(0,0,0)"], *[style*="color:rgb(0, 0, 0)"],\n    *[style*="color:#000"], *[style*="color:#000000"], *[style*="color:black"] {\n      color: ').concat(o," !important;\n    }\n    /* for the Gutenberg eBooks */\n    #pg-header * {\n      color: inherit !important;\n    }\n    .x-ebookmaker, .x-ebookmaker-cover, .x-ebookmaker-coverpage {\n      background-color: unset !important;\n    }\n    /* for the Feedbooks eBooks */\n    .chapterHeader, .chapterHeader * {\n      border-color: unset;\n      background-color: ").concat(a," !important;\n    }\n  ")},l=(e,n,t,a,o,i,r,s,l,c,g)=>'\n  @namespace epub "http://www.idpf.org/2007/ops";\n  html {\n    --default-text-align: '.concat(r?"justify":"start",';\n    hanging-punctuation: allow-end last;\n    orphans: 2;\n    widows: 2;\n  }\n  [align="left"] { text-align: left; }\n  [align="right"] { text-align: right; }\n  [align="center"] { text-align: center; }\n  [align="justify"] { text-align: justify; }\n  :is(hgroup, header) p {\n      text-align: unset;\n      hyphens: unset;\n  }\n  pre {\n      white-space: pre-wrap !important;\n      tab-size: 2;\n  }\n  html[has-background], body[has-background] {\n    --background-set: var(--theme-bg-color);\n  }\n  html, body {\n    ').concat("auto"===c?"":"writing-mode: ".concat(c," !important;"),"\n    text-align: var(--default-text-align);\n    max-height: unset;\n  }\n  html {\n    background-color: var(--theme-bg-color, transparent);\n    background: var(--background-set, none);\n  }\n  body {\n    overflow: unset;\n    zoom: ").concat(l,";\n  }\n  svg, img {\n    height: auto;\n    width: auto;\n    background-color: transparent !important;\n  }\n  p, li, blockquote, dd, div:not(:has(*:not(b, a, em, i, strong, u, span))) {\n    line-height: ").concat(t," ").concat(e?"!important":"",";\n    word-spacing: ").concat(a,"px ").concat(e?"!important":"",";\n    letter-spacing: ").concat(o,"px ").concat(e?"!important":"",";\n    text-indent: ").concat(g?1.2*i:i,"em ").concat(e?"!important":"",";\n    ").concat(r?"text-align: justify ".concat(e?"!important":"",";"):"","\n    ").concat(!r&&e?"text-align: unset !important;":"",";\n    -webkit-hyphens: ").concat(s?"auto":"manual",";\n    hyphens: ").concat(s?"auto":"manual",";\n    -webkit-hyphenate-limit-before: 3;\n    -webkit-hyphenate-limit-after: 2;\n    -webkit-hyphenate-limit-lines: 2;\n    hanging-punctuation: allow-end last;\n    widows: 2;\n  }\n  p:has(> img:only-child), p:has(> span:only-child > img:only-child) {\n    text-indent: unset !important;\n  }\n  p {\n    ").concat(g?"margin-left: ".concat(n,"em ").concat(e?"!important":"",";"):"","\n    ").concat(g?"margin-right: ".concat(n,"em ").concat(e?"!important":"",";"):"","\n    ").concat(!g?"margin-top: ".concat(n,"em ").concat(e?"!important":"",";"):"","\n    ").concat(!g?"margin-bottom: ".concat(n,"em ").concat(e?"!important":"",";"):"","\n  }\n  div {\n    ").concat(g&&e?"margin-left: ".concat(n,"em !important;"):"","\n    ").concat(g&&e?"margin-right: ".concat(n,"em !important;"):"","\n    ").concat(!g&&e?"margin-top: ".concat(n,"em !important;"):"","\n    ").concat(!g&&e?"margin-bottom: ".concat(n,"em !important;"):"",'\n  }\n\n  pre {\n    white-space: pre-wrap !important;\n  }\n\n  .epubtype-footnote,\n  aside[epub|type~="endnote"],\n  aside[epub|type~="footnote"],\n  aside[epub|type~="note"],\n  aside[epub|type~="rearnote"] {\n    display: none;\n  }\n\n  /* Now begins really dirty hacks to fix some badly designed epubs */\n  img.pi {\n    ').concat(g?"transform: rotate(90deg);":"","\n    ").concat(g?"transform-origin: center;":"","\n    ").concat(g?"height: 2em;":"","\n    ").concat(g?"width: ".concat(t,"em;"):"","\n    ").concat(g?"vertical-align: unset;":"","\n  }\n\n  .duokan-footnote-content,\n  .duokan-footnote-item {\n    display: none;\n  }\n\n  .calibre {\n    color: unset;\n  }\n\n  /* inline images without dimension */\n  p > img, span > img, sup img {\n    height: 1em;\n  }\n  p:has(> img:only-child) img, span:has(> img:only-child) img {\n    height: auto;\n  }\n\n  /* workaround for some badly designed epubs */\n  div.left *, p.left * { text-align: left; }\n  div.right *, p.right * { text-align: right; }\n  div.center *, p.center * { text-align: center; }\n  div.justify *, p.justify * { text-align: justify; }\n\n  .nonindent, .noindent {\n    text-indent: unset !important;\n  }\n"),c=()=>"\n  .duokan-footnote-content,\n  .duokan-footnote-item {\n    display: block !important;\n  }\n\n  body {\n    padding: 1em !important;\n  }\n\n  a:any-link {\n    text-decoration: none;\n  }\n\n  ol {\n    margin: 0;\n    padding: 0;\n  }\n\n  p, li, blockquote, dd {\n    margin: unset !important;\n    text-indent: unset !important;\n  }\n",g=()=>"\n  .translation-block-wrapper {\n    display: block !important;\n    margin: 0.5em 0 !important;\n  }\n  .translation-target.hidden {\n    display: none !important;\n  }\n",d=()=>{let e="auto",n="default",t=!1,a=[];n=localStorage.getItem("themeColor")||"default",e=localStorage.getItem("themeMode")||"auto",a=JSON.parse(localStorage.getItem("customThemes")||"[]"),t=window.matchMedia("(prefers-color-scheme: dark)").matches;let i="dark"===e||"auto"===e&&t,r=o.Zj.find(e=>e.name===n);if(!r){let e=a.find(e=>e.name===n);e&&(r={name:e.name,label:e.label,colors:{light:(0,o.PF)(e.colors.light),dark:(0,o.n1)(e.colors.dark)}})}r||(r=o.Zj[0]);let s=i?r.colors.dark:r.colors.light;return{bg:s["base-100"],fg:s["base-content"],primary:s.primary,palette:s,isDarkMode:i}},m=(e,n)=>{n||(n=d());let t=l(e.overrideLayout,e.paragraphMargin,e.lineHeight,e.wordSpacing,e.letterSpacing,e.textIndent,e.fullJustification,e.hyphenation,e.zoomLevel/100,e.writingMode,e.vertical),a=["ios","android"].includes((0,i.Ox)()),o=r(e.serifFont,e.sansSerifFont,e.monospaceFont,e.defaultFont,e.defaultCJKFont,e.defaultFontSize*(a?1.25:1),e.minimumFontSize,e.fontWeight,e.overrideFont),c=s(e.overrideColor,e.invertImgColorInDark,n),m=g(),u=e.userStylesheet;return"".concat(t,"\n").concat(o,"\n").concat(c,"\n").concat(m,"\n").concat(u)},u=(e,n,t,a)=>{let o=["ios","android"].includes((0,i.Ox)())?1.25:1,r=n*(1-e.gapPercent/100),s=t-2*e.marginPx;return a=(a=a.replace(/([^{]+)({[^}]+})/g,(e,n,t)=>{let a=/text-align\s*:\s*center\s*[;$]/.test(t),o=/text-indent\s*:\s*0(?:\.0+)?(?:px|em|rem|%)?\s*[;$]/.test(t);return a?(t=t.replace(/(text-align\s*:\s*center)(\s*;|\s*$)/g,"$1 !important$2"),o&&(t=t.replace(/(text-indent\s*:\s*0(?:\.0+)?(?:px|em|rem|%)?)(\s*;|\s*$)/g,"$1 !important$2")),n+t):e})).replace(/font-size\s*:\s*xx-small/gi,"font-size: 0.6rem").replace(/font-size\s*:\s*x-small/gi,"font-size: 0.75rem").replace(/font-size\s*:\s*small/gi,"font-size: 0.875rem").replace(/font-size\s*:\s*medium/gi,"font-size: 1rem").replace(/font-size\s*:\s*large/gi,"font-size: 1.2rem").replace(/font-size\s*:\s*x-large/gi,"font-size: 1.5rem").replace(/font-size\s*:\s*xx-large/gi,"font-size: 2rem").replace(/font-size\s*:\s*xxx-large/gi,"font-size: 3rem").replace(/font-size\s*:\s*(\d+(?:\.\d+)?)px/gi,(e,n)=>{let t=parseFloat(n)/o/16;return"font-size: ".concat(t,"rem")}).replace(/font-size\s*:\s*(\d+(?:\.\d+)?)pt/gi,(e,n)=>{let t=parseFloat(n)/o/12;return"font-size: ".concat(t,"rem")}).replace(/(\d*\.?\d+)vw/gi,(e,n)=>parseFloat(n)*r/100+"px").replace(/(\d*\.?\d+)vh/gi,(e,n)=>parseFloat(n)*s/100+"px").replace(/[\s;]color\s*:\s*black/gi,"color: var(--theme-fg-color)").replace(/[\s;]color\s*:\s*#000000/gi,"color: var(--theme-fg-color)").replace(/[\s;]color\s*:\s*#000/gi,"color: var(--theme-fg-color)").replace(/[\s;]color\s*:\s*rgb\(0,\s*0,\s*0\)/gi,"color: var(--theme-fg-color)")}},98335:(e,n,t)=>{"use strict";t.d(n,{C:()=>l});var a=t(75972),o=t(80258),i=t(69921);let r=()=>localStorage&&localStorage.getItem("themeMode")||"auto",s=()=>localStorage&&localStorage.getItem("themeColor")||"default",l=(0,a.v)((e,n)=>{let t=r(),a=s(),l=window.matchMedia("(prefers-color-scheme: dark)").matches,c=(0,o.rj)();{let t=window.matchMedia("(prefers-color-scheme: dark)");t.addEventListener("change",()=>{let a=n().themeMode,o="dark"===a||"auto"===a&&t.matches;e({systemIsDarkMode:t.matches,isDarkMode:o})})}return{themeMode:t,themeColor:a,systemIsDarkMode:l,isDarkMode:"dark"===t||"auto"===t&&l,themeCode:c,systemUIVisible:!1,statusBarHeight:24,showSystemUI:()=>e({systemUIVisible:!0}),dismissSystemUI:()=>e({systemUIVisible:!1}),setStatusBarHeight:n=>e({statusBarHeight:n}),getIsDarkMode:()=>n().isDarkMode,setThemeMode:t=>{localStorage&&localStorage.setItem("themeMode",t);let a="dark"===t||"auto"===t&&n().systemIsDarkMode;document.documentElement.setAttribute("data-theme","".concat(n().themeColor,"-").concat(a?"dark":"light")),e({themeMode:t,isDarkMode:a}),e({themeCode:(0,o.rj)()})},setThemeColor:t=>{localStorage&&localStorage.setItem("themeColor",t),document.documentElement.setAttribute("data-theme","".concat(t,"-").concat(n().isDarkMode?"dark":"light")),e({themeColor:t}),e({themeCode:(0,o.rj)()})},updateAppTheme:e=>{if((0,i.hx)()){var t;let{palette:a}=n().themeCode;null==(t=document.querySelector('meta[name="theme-color"]'))||t.setAttribute("content",a[e])}},saveCustomTheme:async(e,n,t,a)=>{let o=n.globalReadSettings.customThemes||[],i=o.findIndex(e=>e.name===t.name);a?i>-1&&o.splice(i,1):i>-1?o[i]=t:o.push(t),n.globalReadSettings.customThemes=o,localStorage.setItem("customThemes",JSON.stringify(o));let r=await e.getAppService();await r.saveSettings(n)}}})}}]);