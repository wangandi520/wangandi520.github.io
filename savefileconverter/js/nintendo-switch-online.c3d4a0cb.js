(self["webpackChunksave_file_converter"]=self["webpackChunksave_file_converter"]||[]).push([[546],{5482:function(t,e,r){"use strict";r.d(e,{Z:function(){return l}});var n=function(){var t=this,e=t._self._c;return e("div",[e("mq-layout",{attrs:{mq:this.horizontalLayout}},[e("b-form-group",{staticClass:"horizontal-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsHorizontal,"aria-describedby":r,"button-variant":"outline-info",stacked:"",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1),e("mq-layout",{attrs:{mq:this.verticalLayout}},[e("b-form-group",{staticClass:"vertical-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsVertical,"aria-describedby":r,"button-variant":"outline-info",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1)],1)},a=[],o={props:{horizontalLayout:Array,verticalLayout:Array,conversionDirection:String,disableDirection:{type:String,default:null}},data(){return{conversionDirectionInternal:this.conversionDirection,optionsHorizontal:[{html:'<i class="fa fa-arrow-circle-right fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-left fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}],optionsVertical:[{html:'<i class="fa fa-arrow-circle-down fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-up fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}]}},methods:{onChange(t){this.$emit("change",t)}}},s=o,i=r(1001),u=(0,i.Z)(s,n,a,!1,null,"d1ddfc22",null),l=u.exports},2405:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:this.leaveRoomForHelpIcon?11:12,sm:"12"}},[e("div",[e("b-form-input",{attrs:{value:t.value,placeholder:"Output filename",disabled:this.disabled},on:{input:function(e){return t.$emit("input",e)}}}),null!==this.helpText?e("div",[e("help-button",{staticClass:"help-button",attrs:{"popover-text":this.helpText,id:this.id}})],1):t._e()],1)])],1)},a=[],o=r(7900),s={name:"OutputFilename",components:{HelpButton:o.Z},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},id:{type:String,default:null},leaveRoomForHelpIcon:{type:Boolean,default:!1},helpText:{type:String,default:null}},data(){return{}}},i=s,u=r(1001),l=(0,u.Z)(i,n,a,!1,null,"25a53d2c",null),c=l.exports},5151:function(t,e,r){"use strict";r.d(e,{Z:function(){return f}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:"11",sm:"12"}},[e("div",[e("b-form-select",{attrs:{value:t.value,options:t.options},on:{input:function(e){return t.$emit("input",e)}}}),e("help-button",{staticClass:"help-button",attrs:{"popover-text":null!==this.overrideHelpText?this.overrideHelpText:"Some cartridges, flash carts, or emulators may not accept saves of a particular size for a particular game.           Try creating a test save with your cartridge, flash cart, or emulator to find what size it expects, then adjust the value here if necessary.",id:this.id}})],1)])],1)},a=[],o=r(7900),s=r(2137),i={name:"OutputFilesize",props:{value:{type:Number,default:null},id:{type:String,default:null},platform:{type:String,default:null},valuesToRemove:{type:Array,default:()=>[]},overrideHelpText:{type:String,default:null}},components:{HelpButton:o.Z},methods:{getDropdownText(t){let e=null;switch(t){case 64:e="0.06";break;case 128:e="0.1";break;case 256:e="0.25";break;default:e=(t/1024).toFixed(t<1024?1:0);break}return`${e}kB (${t} bytes)`}},computed:{options(){if(null===this.platform)return[];const t=s.Z[this.platform].filter((t=>this.valuesToRemove.indexOf(t)<0));return[{value:null,text:"Output file size",disabled:!0}].concat(t.map((t=>({value:t,text:this.getDropdownText(t)}))))}}},u=i,l=r(1001),c=(0,l.Z)(u,n,a,!1,null,"266011e0",null),f=c.exports},8176:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return ht}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("ConvertNintendoSwitchOnline")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",[e("b-container",[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{sm:"12",md:"5","align-self":"start"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Switch")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",[e("input-file",{attrs:{errorMessage:this.errorMessage,placeholderText:"Choose a file to convert",leaveRoomForHelpIcon:!1,acceptExtension:".sram"},on:{load:function(e){return t.readNsoSaveData(e)}}}),e("nintendo-switch-online-platform",{attrs:{id:"platform",disabled:!1},on:{input:function(e){return t.nsoPlatformChanged()}},model:{value:t.nsoPlatform,callback:function(e){t.nsoPlatform=e},expression:"nsoPlatform"}})],1):e("div",[e("output-filename",{attrs:{leaveRoomForHelpIcon:!1},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}})],1)],1),e("b-col",{attrs:{sm:"12",md:"2",lg:"2",xl:"2","align-self":"start"}},[e("conversion-direction",{attrs:{horizontalLayout:["md","lg","xl"],verticalLayout:["xs","sm"],conversionDirection:this.conversionDirection},on:{change:function(e){return t.changeConversionDirection(e)}}})],1),e("b-col",{attrs:{sm:"12",md:"5","align-self":"start"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Emulator/Raw")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",[e("output-filename",{attrs:{leaveRoomForHelpIcon:!1},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}}),this.displayOutputFileSize?e("div",[e("output-filesize",{attrs:{id:"output-filesize",platform:this.nsoPlatformClass.adjustOutputSizesPlatform()},model:{value:t.outputFilesize,callback:function(e){t.outputFilesize=e},expression:"outputFilesize"}})],1):t._e()],1):e("div",[e("input-file",{ref:"inputFileEmulator",attrs:{errorMessage:this.errorMessage,placeholderText:"Choose a file to convert",leaveRoomForHelpIcon:!1},on:{load:function(e){return t.readEmulatorSaveData(e)}}}),e("nintendo-switch-online-platform",{attrs:{id:"platform",disabled:!1},on:{input:function(e){return t.nsoPlatformChanged()}},model:{value:t.nsoPlatform,callback:function(e){t.nsoPlatform=e},expression:"nsoPlatform"}}),this.requiresExampleSaveData?e("div",[e("input-file",{ref:"inputFileExampleSaveData",attrs:{errorMessage:this.exampleFileErrorMessage,placeholderText:"Choose an example NSO save file",acceptExtension:".sram",leaveRoomForHelpIcon:!0,helpText:"These save files require additional information about the game. Please create an example save file for this game on your Switch and supply it here."},on:{load:function(e){return t.readExampleSaveData(e)}}})],1):t._e()],1)],1)],1),e("b-row",{staticClass:"justify-content-md-center",attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"auto",sm:"4",md:"3",lg:"2","align-self":"center"}},[e("b-button",{staticClass:"nintendo-switch-online-convert-button",attrs:{variant:"success",block:"",disabled:!this.nsoSaveData||!this.nsoPlatform||!t.outputFilename||this.missingRequiredExampleData},on:{click:function(e){return t.convertFile()}}},[t._v(" Convert! ")])],1)],1),e("b-row",[e("b-col",[e("div",{staticClass:"help"},[t._v(" Please note that you must have access to homebrew software on your Switch in order to be able to read or write save files ")])])],1)],1)],1)},s=[],i=r(3162),u=r(3313),l=r(1044),c=r(2405),f=r(5151),h=r(5482),d=function(){var t=this,e=t._self._c;return e("div",[e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:"11",sm:"12"}},[e("div",[e("b-form-select",{attrs:{value:t.value,options:t.options,disabled:t.disabled},on:{input:function(e){return t.$emit("input",e)}}}),e("help-button",{staticClass:"help-button",attrs:{"popover-text":"Select the platform (NES, Super NES, Sega Genesis, etc.) that the save is for.",id:this.id}})],1)])],1)],1)},m=[],p=r(7900),g={name:"NintendoSwitchOnlinePlatform",props:{value:{type:String,default:null},id:String,disabled:{type:Boolean,default:!1}},components:{HelpButton:p.Z},data(){return{options:[{value:null,text:"Choose platform",disabled:!0},{value:"NSO-NES",text:"NES"},{value:"NSO-SNES",text:"Super NES"},{value:"NSO-GB",text:"Game Boy/Game Boy Color"},{value:"NSO-GBA",text:"Game Boy Advance"},{value:"NSO-MD",text:"Sega Genesis/Mega Drive"},{value:"NSO-N64",text:"Nintendo 64"}]}}},v=g,y=r(1001),w=(0,y.Z)(v,d,m,!1,null,"1c9895ca",null),b=w.exports,S=r(2976),F=r(7845),x=r(3482),D=r.n(x),A=r(8764)["Buffer"];class B{static getEncodedHash(t,e,r){const n=D()(e);n.update(A.from(t));const a=n.digest(),o=A.from(a).toString("hex").toLowerCase(),s=new TextEncoder(r);return u.Z.bufferToArrayBuffer(s.encode(o))}}const E=32768,P=0,R=8192,N="sha1",C=40,O="US-ASCII",L=0,T=L+C;function Z(t){const e={value:P,count:Math.max(E-t.byteLength,0)};return S.Z.addPaddingToEnd(t,e)}class z{static getNsoFileExtension(){return"sram"}static getRawFileExtension(){return"srm"}static adjustOutputSizesPlatform(){return"nes"}static nsoDataRequiresRomInfo(){return!1}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return z.createFromRawData(r)}static createFromNsoData(t){return new z(t.slice(T,T+R),t)}static createFromRawData(t){const e=t.slice(0,R),r=Z(e),n=B.getEncodedHash(r,N,O),a=u.Z.concatArrayBuffers([n,r]);return new z(t,a)}constructor(t,e){this.rawArrayBuffer=t,this.nsoArrayBuffer=e}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}}class k{static createFromNsoData(t){return new k(t,t)}static createFromRawData(t){return new k(t,t)}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return k.createFromRawData(r)}static getNsoFileExtension(){return"sram"}static getRawFileExtension(){return"srm"}static adjustOutputSizesPlatform(){return"snes"}static nsoDataRequiresRomInfo(){return!1}constructor(t,e){this.nsoArrayBuffer=t,this.rawArrayBuffer=e}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}}const I=0,_=[83,82,65,77,3],U=8,M="sha1",H=40,j="US-ASCII",q=48,V=52,$=0,G=1,W=[$,G],Y=32,K=0;function J(t){const e=new DataView(t),r=e.getUint8(q),n=t.slice(V,V+r),a=V+r,o=e.getUint8(a);if(W.indexOf(o)<0)throw new Error("This does not appear to be a Nintendo Switch Online Gameboy save file");let s=null,i=a+1;return o===G&&(s=t.slice(a+1,a+1+Y),i+=Y),{gitRevisionNumberArrayBuffer:n,rtcDataArrayBuffer:s,saveDataHashOffset:i,dataBeginOffset:i+H}}class Q{static getNsoFileExtension(){return"sram"}static getRawFileExtension(){return"sav"}static adjustOutputSizesPlatform(){return"gb"}static nsoDataRequiresRomInfo(){return!0}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return Q.createFromRawData(r,t.getEncodedRomHash(),t.getEncodedVersion(),t.getUnknownData(),t.getFileFormat())}static createFromNsoData(t){u.Z.checkMagicBytes(t,I,_);const e=J(t),r=t.slice(U,U+H);return new Q(t.slice(e.dataBeginOffset),t,r,e.gitRevisionNumberArrayBuffer,e.rtcDataArrayBuffer)}static createFromRawData(t,e,r,n){const a=null!==n?n.byteLength:0,o=V+r.byteLength,s=o+1,i=s+a,l=i+H;let c=u.Z.getFilledArrayBuffer(l,K);const f=new DataView(c);f.setUint8(q,r.byteLength),f.setUint8(o,null!==n?G:$),c=u.Z.setMagicBytes(c,I,_),c=u.Z.setArrayBufferPortion(c,e,U,0,H),c=u.Z.setArrayBufferPortion(c,r,V,0,r.byteLength),a>0&&(c=u.Z.setArrayBufferPortion(c,n,s,0,n.byteLength));const h=B.getEncodedHash(t,M,j);c=u.Z.setArrayBufferPortion(c,h,i,0,H);const d=u.Z.concatArrayBuffers([c,t]);return new Q(t,d,e,r,n)}constructor(t,e,r,n,a){this.rawArrayBuffer=t,this.nsoArrayBuffer=e,this.romHashArrayBuffer=r,this.gitRevisionNumberArrayBuffer=n,this.rtcDataArrayBuffer=a}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}getRomHashArrayBuffer(){return this.romHashArrayBuffer}getGitRevisionNumberArrayBuffer(){return this.gitRevisionNumberArrayBuffer}getRtcDataArrayBuffer(){return this.rtcDataArrayBuffer}}class X{static createFromNsoData(t){return new X(t,t)}static createFromRawData(t){return new X(t,t)}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return X.createFromRawData(r)}static getNsoFileExtension(){return"sram"}static getRawFileExtension(){return"srm"}static adjustOutputSizesPlatform(){return"gba"}static nsoDataRequiresRomInfo(){return!1}constructor(t,e){this.nsoArrayBuffer=t,this.rawArrayBuffer=e}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}}var tt=r(4230);const et=0;class rt{static createFromNsoData(t){if(tt.Z.isEepromSave(t))return new rt(t,t);const e=tt.Z.byteExpand(t,et);return new rt(t,e)}static createFromRawData(t){let e=t;return tt.Z.isByteExpanded(t)&&(e=tt.Z.byteCollapse(t)),new rt(e,t)}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return rt.createFromRawData(r)}static getNsoFileExtension(){return"sram"}static getRawFileExtension(){return"sav"}static adjustOutputSizesPlatform(){return"genesis"}static nsoDataRequiresRomInfo(){return!1}constructor(t,e){this.nsoArrayBuffer=t,this.rawArrayBuffer=e}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}}var nt=r(9698);class at{static createFromNsoData(t){const e=nt.Z.needsEndianSwap(t)?nt.Z.endianSwap(t):t;return new at(t,e)}static createFromRawData(t){const e=nt.Z.needsEndianSwap(t)?nt.Z.endianSwap(t):t;return new at(e,t)}static createWithNewSize(t,e){const r=F.Z.resizeRawSave(t.getRawArrayBuffer(),e);return at.createFromRawData(r)}static getNsoFileExtension(){return"sram"}static getRawFileExtension(t){return nt.Z.getFileExtension(t)}static adjustOutputSizesPlatform(){return"n64"}static nsoDataRequiresRomInfo(){return!1}constructor(t,e){this.nsoArrayBuffer=t,this.rawArrayBuffer=e}getRawArrayBuffer(){return this.rawArrayBuffer}getNsoArrayBuffer(){return this.nsoArrayBuffer}}var ot={name:"ConvertNintendoSwitchOnline",data(){return{nsoSaveData:null,nsoPlatform:null,nsoPlatformClass:null,errorMessage:null,exampleFileErrorMessage:null,outputFilename:null,outputFilesize:null,conversionDirection:"convertToRaw",inputArrayBuffer:null,inputFilename:null,inputFileType:null,exampleNsoData:null}},components:{ConversionDirection:h.Z,InputFile:l.Z,OutputFilename:c.Z,OutputFilesize:f.Z,NintendoSwitchOnlinePlatform:b},computed:{displayOutputFileSize:{get(){return null!==this.nsoPlatformClass&&null!==this.nsoPlatformClass.adjustOutputSizesPlatform()}},requiresExampleSaveData:{get(){return"convertToFormat"===this.conversionDirection&&null!==this.nsoPlatformClass&&this.nsoPlatformClass.nsoDataRequiresRomInfo()}},missingRequiredExampleData:{get(){return"convertToFormat"===this.conversionDirection&&null!==this.nsoPlatformClass&&this.nsoPlatformClass.nsoDataRequiresRomInfo()&&null===this.exampleNsoData}}},methods:{changeConversionDirection(t){this.conversionDirection=t,this.nsoSaveData=null,this.nsoPlatform=null,this.nsoPlatformClass=null,this.errorMessage=null,this.exampleFileErrorMessage=null,this.outputFilename=null,this.outputFilesize=null,this.inputArrayBuffer=null,this.inputFilename=null,this.inputFileType=null,this.exampleNsoData=null},nsoPlatformChanged(){if(null!==this.nsoPlatform)switch(this.nsoPlatform){case"NSO-NES":this.nsoPlatformClass=z;break;case"NSO-SNES":this.nsoPlatformClass=k;break;case"NSO-GB":this.nsoPlatformClass=Q;break;case"NSO-GBA":this.nsoPlatformClass=X;break;case"NSO-MD":this.nsoPlatformClass=rt;break;case"NSO-N64":this.nsoPlatformClass=at;break;default:this.nsoPlatformClass=null;break}else this.nsoPlatformClass=null;this.$refs.inputFileExampleSaveData&&this.$refs.inputFileExampleSaveData.reset(),this.outputFilename=null,this.outputFilesize=null,this.updateNsoSaveData()},updateNsoSaveData(){if(this.errorMessage=null,this.outputFilesize=null,null!==this.nsoPlatformClass&&null!==this.inputArrayBuffer&&null!==this.inputFilename&&null!==this.inputFileType)try{"nso"===this.inputFileType?(this.nsoSaveData=this.nsoPlatformClass.createFromNsoData(this.inputArrayBuffer),this.outputFilename=u.Z.changeFilenameExtension(this.inputFilename,this.nsoPlatformClass.getRawFileExtension(this.nsoSaveData.getRawArrayBuffer())),this.outputFilesize=this.nsoSaveData.getRawArrayBuffer().byteLength):(this.requiresExampleSaveData?null!==this.exampleNsoData&&(this.nsoSaveData=this.nsoPlatformClass.createFromRawData(this.inputArrayBuffer,this.exampleNsoData.getRomHashArrayBuffer(),this.exampleNsoData.getGitRevisionNumberArrayBuffer(),this.exampleNsoData.getRtcDataArrayBuffer()),this.outputFilesize=this.nsoSaveData.getRawArrayBuffer().byteLength):(this.nsoSaveData=this.nsoPlatformClass.createFromRawData(this.inputArrayBuffer),this.outputFilesize=this.nsoSaveData.getRawArrayBuffer().byteLength),this.outputFilename=u.Z.changeFilenameExtension(this.inputFilename,this.nsoPlatformClass.getNsoFileExtension()))}catch(t){this.errorMessage="This file does not seem to be in the correct format",this.nsoSaveData=null}else this.nsoSaveData=null,this.outputFilename=null,this.outputFilesize=null},readNsoSaveData(t){this.inputFileType="nso",this.inputArrayBuffer=t.arrayBuffer,this.inputFilename=t.filename,this.updateNsoSaveData()},readEmulatorSaveData(t){this.inputFileType="raw",this.inputArrayBuffer=t.arrayBuffer,this.inputFilename=t.filename,this.updateNsoSaveData()},readExampleSaveData(t){this.exampleFileErrorMessage=null;try{this.exampleNsoData=this.nsoPlatformClass.createFromNsoData(t.arrayBuffer)}catch(e){this.exampleFileErrorMessage="This file does not seem to be in the correct format",this.exampleNsoData=null}this.updateNsoSaveData()},convertFile(){let t=this.nsoSaveData;this.nsoSaveData.getRawArrayBuffer().byteLength!==this.outputFilesize&&(t=this.nsoPlatformClass.createWithNewSize(this.nsoSaveData,this.outputFilesize));let e=null;e="convertToRaw"===this.conversionDirection?t.getRawArrayBuffer():t.getNsoArrayBuffer();const r=new Blob([e],{type:"application/octet-stream"});(0,i.saveAs)(r,this.outputFilename)}}},st=ot,it=(0,y.Z)(st,o,s,!1,null,"1d3457fd",null),ut=it.exports,lt={name:"NintendoSwitchOnlineView",components:{ConvertNintendoSwitchOnline:ut}},ct=lt,ft=(0,y.Z)(ct,n,a,!1,null,null,null),ht=ft.exports},1318:function(t,e,r){var n=r(5656),a=r(1400),o=r(6244),s=function(t){return function(e,r,s){var i,u=n(e),l=o(u),c=a(s,l);if(t&&r!=r){while(l>c)if(i=u[c++],i!=i)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:s(!0),indexOf:s(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),a=r(3157),o=TypeError,s=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,e){if(a(t)&&!s(t,"length").writable)throw o("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2128:function(t,e,r){var n=r(2597),a=r(3887),o=r(1236),s=r(3070);t.exports=function(t,e,r){for(var i=a(e),u=s.f,l=o.f,c=0;c<i.length;c++){var f=i[c];n(t,f)||r&&n(r,f)||u(t,f,l(e,f))}}},7207:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),a=r(1236).f,o=r(8880),s=r(8052),i=r(3072),u=r(2128),l=r(4705);t.exports=function(t,e){var r,c,f,h,d,m,p=t.target,g=t.global,v=t.stat;if(c=g?n:v?n[p]||i(p,{}):(n[p]||{}).prototype,c)for(f in e){if(d=e[f],t.dontCallGetSet?(m=a(c,f),h=m&&m.value):h=c[f],r=l(g?f:p+(v?".":"#")+f,t.forced),!r&&void 0!==h){if(typeof d==typeof h)continue;u(d,h)}(t.sham||h&&h.sham)&&o(d,"sham",!0),s(c,f,d,t)}}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),a=r(614),o=/#|\.prototype\./,s=function(t,e){var r=u[i(t)];return r==c||r!=l&&(a(e)?n(e):!!e)},i=s.normalize=function(t){return String(t).replace(o,".").toLowerCase()},u=s.data={},l=s.NATIVE="N",c=s.POLYFILL="P";t.exports=s},1236:function(t,e,r){var n=r(9781),a=r(6916),o=r(5296),s=r(9114),i=r(5656),u=r(4948),l=r(2597),c=r(4664),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=i(t),e=u(e),c)try{return f(t,e)}catch(r){}if(l(t,e))return s(!a(o.f,t,e),t[e])}},8006:function(t,e,r){var n=r(6324),a=r(748),o=a.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,r){var n=r(1702),a=r(2597),o=r(5656),s=r(1318).indexOf,i=r(3501),u=n([].push);t.exports=function(t,e){var r,n=o(t),l=0,c=[];for(r in n)!a(i,r)&&a(n,r)&&u(c,r);while(e.length>l)a(n,r=e[l++])&&(~s(c,r)||u(c,r));return c}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);e.f=a?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3887:function(t,e,r){var n=r(5005),a=r(1702),o=r(8006),s=r(5181),i=r(9670),u=a([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=o.f(i(t)),r=s.f;return r?u(e,r(t)):e}},1400:function(t,e,r){var n=r(9303),a=Math.max,o=Math.min;t.exports=function(t,e){var r=n(t);return r<0?a(r+e,0):o(r,e)}},5656:function(t,e,r){var n=r(8361),a=r(4488);t.exports=function(t){return n(a(t))}},7658:function(t,e,r){"use strict";var n=r(2109),a=r(7908),o=r(6244),s=r(3658),i=r(7207),u=r(7293),l=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},f=l||!c();n({target:"Array",proto:!0,arity:1,forced:f},{push:function(t){var e=a(this),r=o(e),n=arguments.length;i(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return s(e,r),r}})},2137:function(t,e,r){"use strict";r(7658);const n={nes:[512,1024,2048,4096,8192,16384,32768,65536,131072],snes:[512,1024,2048,4096,8192,16384,32768,65536,131072],n64:[512,2048,32768,131072,786432],gb:[512,1024,2048,4096,8192,16384,32768,65536],gba:[512,8192,32768,65536,131072],gamegear:[512,1024,2048,4096,8192,16384,32768,65536],sms:[512,1024,2048,4096,8192,16384,32768,65536],genesis:[64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072],segacd:[8192,16384,32768,65536,131072,262144,524288]},a=Object.keys(n).reduce(((t,e)=>(t.push(...n[e]),t)),[]),o=[...new Set(a)].sort(((t,e)=>t-e));n.all=o,e["Z"]=n},6676:function(t,e,r){"use strict";function n(t,e){for(let r=0;r<t.byteLength/2;r+=1){const n=t.getUint16(2*r,!0);e.setUint16(2*r,n,!1)}}function a(t,e){for(let r=0;r<t.byteLength/4;r+=1){const n=t.getUint32(4*r,!0);e.setUint32(4*r,n,!1)}}function o(t,e){for(let r=0;r<t.byteLength/8;r+=1){const n=t.getBigUint64(8*r,!0);e.setBigUint64(8*r,n,!1)}}r.d(e,{Z:function(){return i}});const s={2:n,4:a,8:o};class i{static swap(t,e){if(t.byteLength%e!==0)throw new Error(`File length must be a multiple of ${e} bytes`);if(!(e in s))throw new Error(`Word size must be one of ${Object.keys(s).join(", ")}`);const r=new ArrayBuffer(t.byteLength),n=new DataView(t),a=new DataView(r);return s[e](n,a),r}}},4230:function(t,e,r){"use strict";r.d(e,{Z:function(){return i}});var n=r(7327),a=r(2976);const o=!1,s=512;class i{static isEepromSave(t){return t.byteLength<s}static isByteExpanded(t){const e=new DataView(t);for(let r=0;r<t.byteLength/2;r+=1){const t=e.getUint8(2*r),n=e.getUint8(2*r+1);if(t!==n&&0!==t&&255!==t)return!1}return!0}static isEmpty(t){const e=new DataView(t);for(let r=0;r<t.byteLength;r+=1){const t=e.getUint8(r);if(0!==t&&255!==t)return!1}return!0}static byteExpand(t,e){const r=new ArrayBuffer(2*t.byteLength),n=new DataView(t),a=new DataView(r),s=e===i.FILL_BYTE_REPEAT;for(let i=0;i<n.byteLength;i+=1){const t=n.getUint8(i),r=s?t:e,u=(255&r)<<8|t;a.setUint16(2*i,u,o)}return r}static byteCollapse(t){const e=new ArrayBuffer(t.byteLength/2),r=new DataView(t),n=new DataView(e);for(let a=0;a<t.byteLength/2;a+=1){const t=r.getUint8(2*a+1);n.setUint8(a,t)}return e}static changeFillByte(t,e){if(i.isEepromSave(t))return t;const r=a.Z.getPadFromEndValueAndCount(t),n=e!==i.FILL_BYTE_REPEAT&&r.value!==e,o=a.Z.removePaddingFromEnd(t,r.count);let s=o;i.isByteExpanded(o)&&(s=i.byteCollapse(o));let u=i.byteExpand(s,e);return u=n?a.Z.addPaddingToEnd(u,{value:e,count:r.count}):a.Z.addPaddingToEnd(u,{value:r.value,count:r.count}),u}}(0,n.Z)(i,"FILL_BYTE_REPEAT","repeat")},7978:function(t,e,r){"use strict";function n(t){let e=0,r=t;while(0!==r)r>>=1,e+=1;return e}r.d(e,{Z:function(){return a}});class a{static getNextLargestPowerOf2(t){return t<=0?0:a.isPowerOf2(t)?t:1<<n(t)}static getNextSmallestPowerOf2(t){return t<=0?0:a.isPowerOf2(t)?t:1<<n(t)-1}static isPowerOf2(t){return!(t<=0)&&0===(t&t-1)}static getNextMultipleOf16(t){return t<=0?0:t+15>>>4<<4}static roundUpToNearest64Bytes(t){return t<0?0:t+63>>>6<<6}}},9698:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=r(6676);const a=[512,2048],o=[32768],s=[131072],i=4;class u{static needsEndianSwap(t){return!u.isEepromSave(t)}static isEepromSave(t){return a.indexOf(t.byteLength)>=0}static isSramSave(t){return o.indexOf(t.byteLength)>=0}static isFlashRamSave(t){return s.indexOf(t.byteLength)>=0}static getFileExtension(t){if(u.isEepromSave(t))return"eep";if(u.isSramSave(t))return"sra";if(u.isFlashRamSave(t))return"fla";throw new Error(`Unrecognized N64 file size: ${t.byteLength} bytes`)}static endianSwap(t){if(t.byteLength%i!==0)throw new Error(`N64 file size must be a multiple of ${i} bytes`);return n.Z.swap(t,i)}}},2976:function(t,e,r){"use strict";r.d(e,{Z:function(){return o}});r(3408),r(4590),r(3462),r(3767),r(8585),r(8696);var n=r(7978);function a(t,e){const r=t.byteLength-e,a=n.Z.getNextLargestPowerOf2(r);return e-(a-r)}class o{static attemptFix(t,e){const r=o.getPadFromStartValueAndCount(t),n=o.getPadFromStartValueAndCount(e),a=o.removePaddingFromStart(t,r.count),s=o.removePaddingFromStart(e,n.count);let i=s;if(s.byteLength<a.byteLength){const t={value:0,count:a.byteLength-s.byteLength};i=o.addPaddingToEnd(s,t)}else s.byteLength>a.byteLength&&(i=o.removePaddingFromEnd(s,s.byteLength-a.byteLength));const u=o.addPaddingToStart(i,r);return u}static fileSizeAndPaddingFromStartIsSame(t,e){if(t.byteLength!==e.byteLength)return!1;const r=o.getPadFromStartValueAndCount(t),n=o.getPadFromStartValueAndCount(e);return r.count===n.count&&r.value===n.value}static getPadFromStartValueAndCount(t){const e=o.countPaddingFromStart(t,0),r=o.countPaddingFromStart(t,255);let n=0,s=e;return r>0&&(n=255,s=r),s=a(t,s),{value:n,count:s}}static getPadFromEndValueAndCount(t){const e=o.countPaddingFromEnd(t,0),r=o.countPaddingFromEnd(t,255);let n=0,s=e;return r>0&&(n=255,s=r),s=a(t,s),{value:n,count:s}}static removePaddingFromStart(t,e){return t.slice(e)}static removePaddingFromEnd(t,e){return t.slice(0,t.byteLength-e)}static addPaddingToStart(t,e){const r=new ArrayBuffer(t.byteLength+e.count),n=new Uint8Array(r),a=new Uint8Array(t);for(let o=0;o<e.count;o+=1)n[o]=e.value;return n.set(a,e.count),r}static addPaddingToEnd(t,e){const r=new ArrayBuffer(t.byteLength+e.count),n=new Uint8Array(r),a=new Uint8Array(t);n.set(a,0);for(let o=0;o<e.count;o+=1)n[t.byteLength+o]=e.value;return r}static padAtEndToMinimumSize(t,e,r){return o.addPaddingToEnd(t,{value:e,count:Math.max(r-t.byteLength,0)})}static countPaddingFromStart(t,e){const r=new Uint8Array(t);let n=0;for(let a=0;a<r.length;a+=1){if(r[a]!==e)break;n+=1}return n===t.byteLength&&(n=0),n}static countPaddingFromEnd(t,e){const r=new Uint8Array(t);let n=0;for(let a=r.length-1;a>=0;a-=1){if(r[a]!==e)break;n+=1}return n===t.byteLength&&(n=0),n}}},7845:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});r(3408),r(4590),r(3462),r(3767),r(8585),r(8696);class n{static resizeRawSave(t,e,r=0){let n=t;if(e<t.byteLength)n=t.slice(0,e);else if(e>t.byteLength){n=new ArrayBuffer(e);const a=new Uint8Array(n),o=new Uint8Array(t);a.fill(r),a.set(o,0)}return n}static getEraseCartridgeSave(t){const e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e);return r.fill(0),e}}}}]);