(self["webpackChunksave_file_converter"]=self["webpackChunksave_file_converter"]||[]).push([[854],{5482:function(t,e,r){"use strict";r.d(e,{Z:function(){return l}});var n=function(){var t=this,e=t._self._c;return e("div",[e("mq-layout",{attrs:{mq:this.horizontalLayout}},[e("b-form-group",{staticClass:"horizontal-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsHorizontal,"aria-describedby":r,"button-variant":"outline-info",stacked:"",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1),e("mq-layout",{attrs:{mq:this.verticalLayout}},[e("b-form-group",{staticClass:"vertical-arrangement",scopedSlots:t._u([{key:"default",fn:function({ariaDescribedby:r}){return[e("b-form-radio-group",{attrs:{options:t.optionsVertical,"aria-describedby":r,"button-variant":"outline-info",buttons:""},on:{change:function(e){return t.onChange(e)}},model:{value:t.conversionDirectionInternal,callback:function(e){t.conversionDirectionInternal=e},expression:"conversionDirectionInternal"}})]}}])})],1)],1)},a=[],i={props:{horizontalLayout:Array,verticalLayout:Array,conversionDirection:String,disableDirection:{type:String,default:null}},data(){return{conversionDirectionInternal:this.conversionDirection,optionsHorizontal:[{html:'<i class="fa fa-arrow-circle-right fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-left fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}],optionsVertical:[{html:'<i class="fa fa-arrow-circle-down fa-3x"></i>',value:"convertToRaw",disabled:"convertToRaw"===this.disableDirection},{html:'<i class="fa fa-arrow-circle-up fa-3x"></i>',value:"convertToFormat",disabled:"convertToFormat"===this.disableDirection}]}},methods:{onChange(t){this.$emit("change",t)}}},o=i,s=r(1001),u=(0,s.Z)(o,n,a,!1,null,"d1ddfc22",null),l=u.exports},2405:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:this.leaveRoomForHelpIcon?11:12,sm:"12"}},[e("div",[e("b-form-input",{attrs:{value:t.value,placeholder:"Output filename",disabled:this.disabled},on:{input:function(e){return t.$emit("input",e)}}}),null!==this.helpText?e("div",[e("help-button",{staticClass:"help-button",attrs:{"popover-text":this.helpText,id:this.id}})],1):t._e()],1)])],1)},a=[],i=r(7900),o={name:"OutputFilename",components:{HelpButton:i.Z},props:{value:{type:String,default:""},disabled:{type:Boolean,default:!1},id:{type:String,default:null},leaveRoomForHelpIcon:{type:Boolean,default:!1},helpText:{type:String,default:null}},data(){return{}}},s=o,u=r(1001),l=(0,u.Z)(s,n,a,!1,null,"25a53d2c",null),c=l.exports},5151:function(t,e,r){"use strict";r.d(e,{Z:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("b-row",{attrs:{"no-gutters":"","align-h":"start","align-v":"center"}},[e("b-col",{attrs:{cols:"11",sm:"12"}},[e("div",[e("b-form-select",{attrs:{value:t.value,options:t.options},on:{input:function(e){return t.$emit("input",e)}}}),e("help-button",{staticClass:"help-button",attrs:{"popover-text":null!==this.overrideHelpText?this.overrideHelpText:"Some cartridges, flash carts, or emulators may not accept saves of a particular size for a particular game.           Try creating a test save with your cartridge, flash cart, or emulator to find what size it expects, then adjust the value here if necessary.",id:this.id}})],1)])],1)},a=[],i=r(7900),o=r(2137),s={name:"OutputFilesize",props:{value:{type:Number,default:null},id:{type:String,default:null},platform:{type:String,default:null},valuesToRemove:{type:Array,default:()=>[]},overrideHelpText:{type:String,default:null}},components:{HelpButton:i.Z},methods:{getDropdownText(t){let e=null;switch(t){case 64:e="0.06";break;case 128:e="0.1";break;case 256:e="0.25";break;default:e=(t/1024).toFixed(t<1024?1:0);break}return`${e}kB (${t} bytes)`}},computed:{options(){if(null===this.platform)return[];const t=o.Z[this.platform].filter((t=>this.valuesToRemove.indexOf(t)<0));return[{value:null,text:"Output file size",disabled:!0}].concat(t.map((t=>({value:t,text:this.getDropdownText(t)}))))}}},u=s,l=r(1001),c=(0,l.Z)(u,n,a,!1,null,"266011e0",null),h=c.exports},1542:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return N}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("ConvertGbaGameShark")],1)},a=[],i=function(){var t=this,e=t._self._c;return e("div",[e("b-container",[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{sm:"12",md:"5","align-self":"center"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("GameShark")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",{staticClass:"inputs-row"},[e("input-file",{attrs:{id:"choose-gameshark-file",errorMessage:this.errorMessage,placeholderText:"Choose a file to convert (*.sps)",acceptExtension:".sps",leaveRoomForHelpIcon:!1},on:{load:function(e){return t.readGameSharkSaveData(e)}}})],1):e("div",{staticClass:"inputs-row"},[e("output-filename",{attrs:{leaveRoomForHelpIcon:!0},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}}),e("output-filesize",{attrs:{id:"gameshark-filesize",platform:"gba"},model:{value:t.outputFilesize,callback:function(e){t.outputFilesize=e},expression:"outputFilesize"}})],1)],1),e("b-col",{attrs:{sm:"12",md:"2",lg:"2",xl:"2","align-self":"start"}},[e("conversion-direction",{attrs:{horizontalLayout:["md","lg","xl"],verticalLayout:["xs","sm"],conversionDirection:this.conversionDirection},on:{change:function(e){return t.changeConversionDirection(e)}}})],1),e("b-col",{attrs:{sm:"12",md:"5","align-self":"start"}},[e("b-row",{attrs:{"no-gutters":"","align-h":"center","align-v":"start"}},[e("b-col",{attrs:{cols:"12"}},[e("b-jumbotron",{attrs:{fluid:"","header-level":t._f("mq")(t.$mq,{xs:5,sm:5,md:5,lg:5,xl:4})},scopedSlots:t._u([{key:"header",fn:function(){return[t._v("Emulator/Raw")]},proxy:!0}])})],1)],1),"convertToRaw"===this.conversionDirection?e("div",{staticClass:"inputs-row"},[e("output-filename",{attrs:{leaveRoomForHelpIcon:!0},model:{value:t.outputFilename,callback:function(e){t.outputFilename=e},expression:"outputFilename"}}),e("output-filesize",{attrs:{id:"raw-filesize",platform:"gba"},model:{value:t.outputFilesize,callback:function(e){t.outputFilesize=e},expression:"outputFilesize"}})],1):e("div",{staticClass:"inputs-row"},[e("input-file",{attrs:{id:"choose-raw-file",errorMessage:this.errorMessage,placeholderText:"Choose a file to convert",leaveRoomForHelpIcon:!0},on:{load:function(e){return t.readEmulatorSaveData(e)}}}),e("input-file",{attrs:{id:"choose-raw-file-rom",errorMessage:null,placeholderText:"Choose the ROM for this file (*.gba)",helpText:"GameShark save files contain some information from the corresponding ROM, and some emulators check this information before allowing the save to be loaded.\n            All processing by this website is done on your local machine, and your ROMs are not sent anywhere.",acceptExtension:".gba",leaveRoomForHelpIcon:!0},on:{load:function(e){return t.readRomData(e)}}})],1)],1)],1),e("b-row",{staticClass:"justify-content-md-center",attrs:{"align-h":"center"}},[e("b-col",{attrs:{cols:"auto",sm:"4",md:"3",lg:"2","align-self":"center"}},[e("b-button",{staticClass:"gameshark-convert-button",attrs:{variant:"success",block:"",disabled:!this.gameSharkSaveData||!t.outputFilename},on:{click:function(e){return t.convertFile()}}},[t._v(" Convert! ")])],1)],1),e("b-row",[e("b-col",[e("div",{staticClass:"help"},[t._v(" Help: how can I "),e("router-link",{attrs:{to:"/original-hardware?sort=gba"}},[t._v("copy save files to and from a GBA cartridge")]),t._v("? ")],1),e("div",{staticClass:"help"},[t._v(" Help: how do I "),e("b-link",{attrs:{href:"https://gamehacking.org/vb/forum/video-game-hacking-and-development/school-of-hacking/14153-gameshark-advance-and-color-save-backup"}},[t._v("copy save files to and from my GameShark")]),t._v("? ")],1)])],1)],1)],1)},o=[],s=r(7484),u=r.n(s),l=r(3162),c=r(3313),h=r(1044),f=r(2405),m=r(5151),d=r(5482);r(3408),r(4590),r(3462),r(3767),r(8585),r(8696);const p=160,v=16,g=190,y=189,w=176,S=!0;class D{constructor(t){const e=new TextDecoder("utf-8"),r=new DataView(t),n=t.slice(p,p+v),a=new Uint8Array(n);this.internalName=e.decode(a),this.checkSum=r.getUint16(g,S),this.complimentCheck=r.getUint8(y),this.maker=r.getUint8(w)}getInternalName(){return this.internalName}getChecksum(){return this.checkSum}getComplimentCheck(){return this.complimentCheck}getMaker(){return this.maker}}var b=r(7845);const k=!0,x="SharkPortSave",$=983040,F=28,C=16;function M(t,e,r,n){let a=n;const i=e.getUint32(a,k);a+=4;const o=t.slice(a,a+i);a+=i;const s=new Uint8Array(o),u=r.decode(s);return{text:u,nextByte:a}}function T(t,e){const r=new Uint8Array(e);r.fill(0);for(let n=0;n<Math.min(t.length,e);n+=1)r[n]=t[n];return r}function O(t,e){const r=new DataView(t),n=t.slice(0,C),a=new Uint8Array(n);return{gameInternalName:e.decode(a),romChecksum:r.getUint16(C,k),romComplimentCheck:r.getUint8(C+2),maker:r.getUint8(C+3),flag:r.getUint8(C+4)}}function _(t){const e=new D(t),r={gameInternalName:e.getInternalName(),romChecksum:e.getChecksum(),romComplimentCheck:e.getComplimentCheck(),maker:e.getMaker(),flag:1};return r}function A(t,e){const r=new ArrayBuffer(F),n=new DataView(r),a=new Uint8Array(r),i=e.encode(t.gameInternalName),o=T(i,C);return a.set(o,0),n.setUint16(C,t.romChecksum,k),n.setUint8(C+2,t.romComplimentCheck),n.setUint8(C+3,t.maker),n.setUint8(C+4,t.flag),r}function U(t){const e=new DataView(t);let r=0;for(let n=0;n<t.byteLength;n+=1)r+=e.getUint8(n)<<r%18>>>0,r>=2**32&&(r-=2**32);return r}class z{static createFromGameSharkData(t){return new z(t)}static createWithNewSize(t,e){const r=b.Z.resizeRawSave(t.getRawSaveData(),e);return z.createFromEmulatorDataAndSecondHeader(r,t.getTitle(),t.getDate(),t.getNotes(),t.getSecondHeader())}static createFromEmulatorData(t,e,r,n,a){const i=_(a);return z.createFromEmulatorDataAndSecondHeader(t,e,r,n,i)}static createFromEmulatorDataAndSecondHeader(t,e,r,n,a){const i=new TextEncoder("US-ASCII"),o=4+x.length+4+4+e.length+4+r.length+4+n.length+4,s=new ArrayBuffer(o),u=new Uint8Array(s),l=new DataView(s);let h=0;l.setUint32(h,x.length,k),h+=4,u.set(i.encode(x),h),h+=x.length,l.setUint32(h,$,k),h+=4,l.setUint32(h,e.length,k),h+=4,u.set(i.encode(e),h),h+=e.length,l.setUint32(h,r.length,k),h+=4,u.set(i.encode(r),h),h+=r.length,l.setUint32(h,n.length,k),h+=4,u.set(i.encode(n),h),h+=n.length,l.setUint32(h,t.byteLength+F,k),h+=4;const f=new ArrayBuffer(t.byteLength+F),m=new Uint8Array(f),d=A(a,i),p=new Uint8Array(d),v=new Uint8Array(t);m.set(p,0),m.set(v,F);const g=U(f),y=new ArrayBuffer(4),w=new DataView(y);w.setUint32(0,g,k);const S=c.Z.concatArrayBuffers([s,d,t,y]);return new z(S)}constructor(t){this.arrayBuffer=t;const e=new DataView(t),r=new TextDecoder("US-ASCII");let n=0;const a=M(t,e,r,n);if(a.text!==x)throw new Error("This does not appear to be a GameShark save file");n=a.nextByte;const i=e.getUint32(n,k);if(n+=4,i!==$)throw new Error("This does not appear to be a GBA GameShark file");try{const a=M(t,e,r,n);this.title=a.text,n=a.nextByte;const i=M(t,e,r,n);this.date=i.text,n=i.nextByte;const o=M(t,e,r,n);this.notes=o.text,n=o.nextByte;const s=e.getUint32(n,k);n+=4;const u=t.slice(n,n+s),l=s-F,c=t.slice(n,n+F);n+=F,this.secondHeader=O(c,r);const h=t.slice(n,n+l);n+=4,this.crcFromFile=e.getUint32(n,k),n+=4,this.calculatedCrc=U(u),this.rawSaveData=h}catch(o){throw new Error("This file appears to be corrupted")}}getTitle(){return this.title}getDate(){return this.date}getNotes(){return this.notes}getSecondHeader(){return this.secondHeader}getCrc(){return this.crc}getCalculatedCrc(){return this.calculatedCrc}getRawSaveData(){return this.rawSaveData}getArrayBuffer(){return this.arrayBuffer}}var I={name:"ConvertGbaGameShark",data(){return{gameSharkSaveData:null,romData:null,emulatorSaveData:null,emulatorSaveDataFilename:null,errorMessage:null,outputFilename:null,outputFilesize:null,conversionDirection:"convertToRaw"}},components:{ConversionDirection:d.Z,InputFile:h.Z,OutputFilename:f.Z,OutputFilesize:m.Z},methods:{changeConversionDirection(t){this.conversionDirection=t,this.gameSharkSaveData=null,this.romData=null,this.emulatorSaveData=null,this.emulatorSaveDataFilename=null,this.errorMessage=null,this.outputFilename=null,this.outputFilesize=null},readRomData(t){this.romData=t.arrayBuffer,this.tryToCreateGameSharkSaveDataFromEmulatorSaveData()},readEmulatorSaveData(t){this.emulatorSaveData=t.arrayBuffer,this.emulatorSaveDataFilename=t.filename,this.tryToCreateGameSharkSaveDataFromEmulatorSaveData()},readGameSharkSaveData(t){this.errorMessage=null;try{this.gameSharkSaveData=z.createFromGameSharkData(t.arrayBuffer),this.outputFilename=c.Z.changeFilenameExtension(t.filename,"srm"),this.outputFilesize=this.gameSharkSaveData.getRawSaveData().byteLength}catch(e){this.errorMessage=e.message,this.gameSharkSaveData=null,this.outputFilename=null,this.outputFilesize=null}},tryToCreateGameSharkSaveDataFromEmulatorSaveData(){if(null!==this.romData&&null!==this.emulatorSaveData&&null!==this.emulatorSaveDataFilename){this.errorMessage=null;try{const t=c.Z.removeFilenameExtension(this.emulatorSaveDataFilename),e=u()().format("DD/MM/YYYY hh:mm:ss a"),r="Created with savefileconverter.com";this.gameSharkSaveData=z.createFromEmulatorData(this.emulatorSaveData,t,e,r,this.romData),this.outputFilename=c.Z.changeFilenameExtension(this.emulatorSaveDataFilename,"sps"),this.outputFilesize=this.gameSharkSaveData.getRawSaveData().byteLength}catch(t){this.errorMessage=t.message,this.gameSharkSaveData=null,this.outputFilename=null,this.outputFilesize=null}}},convertFile(){let t=this.gameSharkSaveData;this.gameSharkSaveData.getRawSaveData().byteLength!==this.outputFilesize&&(t=z.createWithNewSize(this.gameSharkSaveData,this.outputFilesize));const e="convertToRaw"===this.conversionDirection?t.getRawSaveData():t.getArrayBuffer(),r=new Blob([e],{type:"application/octet-stream"});(0,l.saveAs)(r,this.outputFilename)}}},H=I,R=r(1001),E=(0,R.Z)(H,i,o,!1,null,"583700d4",null),L=E.exports,B={name:"GbaGameSharkView",components:{ConvertGbaGameShark:L}},Z=B,G=(0,R.Z)(Z,n,a,!1,null,null,null),N=G.exports},1318:function(t,e,r){var n=r(5656),a=r(1400),i=r(6244),o=function(t){return function(e,r,o){var s,u=n(e),l=i(u),c=a(o,l);if(t&&r!=r){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===r)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},3658:function(t,e,r){"use strict";var n=r(9781),a=r(3157),i=TypeError,o=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=s?function(t,e){if(a(t)&&!o(t,"length").writable)throw i("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},2128:function(t,e,r){var n=r(2597),a=r(3887),i=r(1236),o=r(3070);t.exports=function(t,e,r){for(var s=a(e),u=o.f,l=i.f,c=0;c<s.length;c++){var h=s[c];n(t,h)||r&&n(r,h)||u(t,h,l(e,h))}}},7207:function(t){var e=TypeError,r=9007199254740991;t.exports=function(t){if(t>r)throw e("Maximum allowed index exceeded");return t}},748:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,r){var n=r(7854),a=r(1236).f,i=r(8880),o=r(8052),s=r(3072),u=r(2128),l=r(4705);t.exports=function(t,e){var r,c,h,f,m,d,p=t.target,v=t.global,g=t.stat;if(c=v?n:g?n[p]||s(p,{}):(n[p]||{}).prototype,c)for(h in e){if(m=e[h],t.dontCallGetSet?(d=a(c,h),f=d&&d.value):f=c[h],r=l(v?h:p+(g?".":"#")+h,t.forced),!r&&void 0!==f){if(typeof m==typeof f)continue;u(m,f)}(t.sham||f&&f.sham)&&i(m,"sham",!0),o(c,h,m,t)}}},3157:function(t,e,r){var n=r(4326);t.exports=Array.isArray||function(t){return"Array"==n(t)}},4705:function(t,e,r){var n=r(7293),a=r(614),i=/#|\.prototype\./,o=function(t,e){var r=u[s(t)];return r==c||r!=l&&(a(e)?n(e):!!e)},s=o.normalize=function(t){return String(t).replace(i,".").toLowerCase()},u=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},1236:function(t,e,r){var n=r(9781),a=r(6916),i=r(5296),o=r(9114),s=r(5656),u=r(4948),l=r(2597),c=r(4664),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=s(t),e=u(e),c)try{return h(t,e)}catch(r){}if(l(t,e))return o(!a(i.f,t,e),t[e])}},8006:function(t,e,r){var n=r(6324),a=r(748),i=a.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,i)}},5181:function(t,e){e.f=Object.getOwnPropertySymbols},6324:function(t,e,r){var n=r(1702),a=r(2597),i=r(5656),o=r(1318).indexOf,s=r(3501),u=n([].push);t.exports=function(t,e){var r,n=i(t),l=0,c=[];for(r in n)!a(s,r)&&a(n,r)&&u(c,r);while(e.length>l)a(n,r=e[l++])&&(~o(c,r)||u(c,r));return c}},5296:function(t,e){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,a=n&&!r.call({1:2},1);e.f=a?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},3887:function(t,e,r){var n=r(5005),a=r(1702),i=r(8006),o=r(5181),s=r(9670),u=a([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(s(t)),r=o.f;return r?u(e,r(t)):e}},1400:function(t,e,r){var n=r(9303),a=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?a(r+e,0):i(r,e)}},5656:function(t,e,r){var n=r(8361),a=r(4488);t.exports=function(t){return n(a(t))}},7658:function(t,e,r){"use strict";var n=r(2109),a=r(7908),i=r(6244),o=r(3658),s=r(7207),u=r(7293),l=u((function(){return 4294967297!==[].push.call({length:4294967296},1)})),c=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},h=l||!c();n({target:"Array",proto:!0,arity:1,forced:h},{push:function(t){var e=a(this),r=i(e),n=arguments.length;s(r+n);for(var u=0;u<n;u++)e[r]=arguments[u],r++;return o(e,r),r}})},7484:function(t){!function(e,r){t.exports=r()}(0,(function(){"use strict";var t=1e3,e=6e4,r=36e5,n="millisecond",a="second",i="minute",o="hour",s="day",u="week",l="month",c="quarter",h="year",f="date",m="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],r=t%100;return"["+t+(e[(r-20)%10]||e[r]||e[0])+"]"}},g=function(t,e,r){var n=String(t);return!n||n.length>=e?t:""+Array(e+1-n.length).join(r)+t},y={s:g,z:function(t){var e=-t.utcOffset(),r=Math.abs(e),n=Math.floor(r/60),a=r%60;return(e<=0?"+":"-")+g(n,2,"0")+":"+g(a,2,"0")},m:function t(e,r){if(e.date()<r.date())return-t(r,e);var n=12*(r.year()-e.year())+(r.month()-e.month()),a=e.clone().add(n,l),i=r-a<0,o=e.clone().add(n+(i?-1:1),l);return+(-(n+(r-a)/(i?a-o:o-a))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:l,y:h,w:u,d:s,D:f,h:o,m:i,s:a,ms:n,Q:c}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},w="en",S={};S[w]=v;var D=function(t){return t instanceof $},b=function t(e,r,n){var a;if(!e)return w;if("string"==typeof e){var i=e.toLowerCase();S[i]&&(a=i),r&&(S[i]=r,a=i);var o=e.split("-");if(!a&&o.length>1)return t(o[0])}else{var s=e.name;S[s]=e,a=s}return!n&&a&&(w=a),a||!n&&w},k=function(t,e){if(D(t))return t.clone();var r="object"==typeof e?e:{};return r.date=t,r.args=arguments,new $(r)},x=y;x.l=b,x.i=D,x.w=function(t,e){return k(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var $=function(){function v(t){this.$L=b(t.locale,null,!0),this.parse(t)}var g=v.prototype;return g.parse=function(t){this.$d=function(t){var e=t.date,r=t.utc;if(null===e)return new Date(NaN);if(x.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var n=e.match(d);if(n){var a=n[2]-1||0,i=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},g.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},g.$utils=function(){return x},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(t,e){var r=k(t);return this.startOf(e)<=r&&r<=this.endOf(e)},g.isAfter=function(t,e){return k(t)<this.startOf(e)},g.isBefore=function(t,e){return this.endOf(e)<k(t)},g.$g=function(t,e,r){return x.u(t)?this[e]:this.set(r,t)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(t,e){var r=this,n=!!x.u(e)||e,c=x.p(t),m=function(t,e){var a=x.w(r.$u?Date.UTC(r.$y,e,t):new Date(r.$y,e,t),r);return n?a:a.endOf(s)},d=function(t,e){return x.w(r.toDate()[t].apply(r.toDate("s"),(n?[0,0,0,0]:[23,59,59,999]).slice(e)),r)},p=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(c){case h:return n?m(1,0):m(31,11);case l:return n?m(1,v):m(0,v+1);case u:var w=this.$locale().weekStart||0,S=(p<w?p+7:p)-w;return m(n?g-S:g+(6-S),v);case s:case f:return d(y+"Hours",0);case o:return d(y+"Minutes",1);case i:return d(y+"Seconds",2);case a:return d(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(t){return this.startOf(t,!1)},g.$set=function(t,e){var r,u=x.p(t),c="set"+(this.$u?"UTC":""),m=(r={},r[s]=c+"Date",r[f]=c+"Date",r[l]=c+"Month",r[h]=c+"FullYear",r[o]=c+"Hours",r[i]=c+"Minutes",r[a]=c+"Seconds",r[n]=c+"Milliseconds",r)[u],d=u===s?this.$D+(e-this.$W):e;if(u===l||u===h){var p=this.clone().set(f,1);p.$d[m](d),p.init(),this.$d=p.set(f,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](d);return this.init(),this},g.set=function(t,e){return this.clone().$set(t,e)},g.get=function(t){return this[x.p(t)]()},g.add=function(n,c){var f,m=this;n=Number(n);var d=x.p(c),p=function(t){var e=k(m);return x.w(e.date(e.date()+Math.round(t*n)),m)};if(d===l)return this.set(l,this.$M+n);if(d===h)return this.set(h,this.$y+n);if(d===s)return p(1);if(d===u)return p(7);var v=(f={},f[i]=e,f[o]=r,f[a]=t,f)[d]||1,g=this.$d.getTime()+n*v;return x.w(g,this)},g.subtract=function(t,e){return this.add(-1*t,e)},g.format=function(t){var e=this,r=this.$locale();if(!this.isValid())return r.invalidDate||m;var n=t||"YYYY-MM-DDTHH:mm:ssZ",a=x.z(this),i=this.$H,o=this.$m,s=this.$M,u=r.weekdays,l=r.months,c=function(t,r,a,i){return t&&(t[r]||t(e,n))||a[r].slice(0,i)},h=function(t){return x.s(i%12||12,t,"0")},f=r.meridiem||function(t,e,r){var n=t<12?"AM":"PM";return r?n.toLowerCase():n},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:s+1,MM:x.s(s+1,2,"0"),MMM:c(r.monthsShort,s,l,3),MMMM:c(l,s),D:this.$D,DD:x.s(this.$D,2,"0"),d:String(this.$W),dd:c(r.weekdaysMin,this.$W,u,2),ddd:c(r.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(i),HH:x.s(i,2,"0"),h:h(1),hh:h(2),a:f(i,o,!0),A:f(i,o,!1),m:String(o),mm:x.s(o,2,"0"),s:String(this.$s),ss:x.s(this.$s,2,"0"),SSS:x.s(this.$ms,3,"0"),Z:a};return n.replace(p,(function(t,e){return e||d[t]||a.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(n,f,m){var d,p=x.p(f),v=k(n),g=(v.utcOffset()-this.utcOffset())*e,y=this-v,w=x.m(this,v);return w=(d={},d[h]=w/12,d[l]=w,d[c]=w/3,d[u]=(y-g)/6048e5,d[s]=(y-g)/864e5,d[o]=y/r,d[i]=y/e,d[a]=y/t,d)[p]||y,m?w:x.a(w)},g.daysInMonth=function(){return this.endOf(l).$D},g.$locale=function(){return S[this.$L]},g.locale=function(t,e){if(!t)return this.$L;var r=this.clone(),n=b(t,e,!0);return n&&(r.$L=n),r},g.clone=function(){return x.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},v}(),F=$.prototype;return k.prototype=F,[["$ms",n],["$s",a],["$m",i],["$H",o],["$W",s],["$M",l],["$y",h],["$D",f]].forEach((function(t){F[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),k.extend=function(t,e){return t.$i||(t(e,$,k),t.$i=!0),k},k.locale=b,k.isDayjs=D,k.unix=function(t){return k(1e3*t)},k.en=S[w],k.Ls=S,k.p={},k}))},2137:function(t,e,r){"use strict";r(7658);const n={nes:[512,1024,2048,4096,8192,16384,32768,65536,131072],snes:[512,1024,2048,4096,8192,16384,32768,65536,131072],n64:[512,2048,32768,131072,786432],gb:[512,1024,2048,4096,8192,16384,32768,65536],gba:[512,8192,32768,65536,131072],gamegear:[512,1024,2048,4096,8192,16384,32768,65536],sms:[512,1024,2048,4096,8192,16384,32768,65536],genesis:[64,128,256,512,1024,2048,4096,8192,16384,32768,65536,131072],segacd:[8192,16384,32768,65536,131072,262144,524288]},a=Object.keys(n).reduce(((t,e)=>(t.push(...n[e]),t)),[]),i=[...new Set(a)].sort(((t,e)=>t-e));n.all=i,e["Z"]=n},7845:function(t,e,r){"use strict";r.d(e,{Z:function(){return n}});r(3408),r(4590),r(3462),r(3767),r(8585),r(8696);class n{static resizeRawSave(t,e,r=0){let n=t;if(e<t.byteLength)n=t.slice(0,e);else if(e>t.byteLength){n=new ArrayBuffer(e);const a=new Uint8Array(n),i=new Uint8Array(t);a.fill(r),a.set(i,0)}return n}static getEraseCartridgeSave(t){const e=new ArrayBuffer(t.byteLength),r=new Uint8Array(e);return r.fill(0),e}}}}]);